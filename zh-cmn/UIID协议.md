# UIID 协议（基础）

**说明：部分复杂的设备类型不开放授权，所以不会在文档中列出，基础控制指令内容会陆续补充，请耐心等待。此外，付费 APPID 用户才可以得到详细完整的控制协议文档，咨询具体内容可以邮件联系我们 bd@coolkit.cn**

## 主流设备类型清单（UIID 清单）

文档陆续发布更新，请耐心等待。

<div class="table-center">

|                   UI                   |                     描述                      | UIID |
| :------------------------------------: | :-------------------------------------------: | :--: |
|               单通道插座               |                  单通道插座                   |  1   |
|               双通道插座               |                  双通道插座                   |  2   |
|               三通道插座               |                  三通道插座                   |  3   |
|               四通道插座               |                  四通道插座                   |  4   |
|           功率检测单通道插座           |              功率检测单通道插座               |  5   |
|               单通道开关               |                  单通道开关                   |  6   |
|               双通道开关               |                  双通道开关                   |  7   |
|               三通道开关               |                  三通道开关                   |  8   |
|               四通道开关               |                  四通道开关                   |  9   |
|              开关改装模块              |                 开关改装模块                  |  14  |
|             恒温恒湿改装件             |                恒温恒湿改装件                 |  15  |
|             冷暖双色调光灯             |                冷暖双色调光灯                 |  16  |
|            三档摇头智能风扇            |               三档摇头智能风扇                |  17  |
|               传感器中心               |   带温度 湿度 亮度 噪音 空气质量传感器数据    |  18  |
|               三档加湿器               |                  三档加湿器                   |  19  |
|             RGB 五色球泡灯             |                RGB 五色球泡灯                 |  22  |
|                   -                    |                       -                       |  23  |
|             GSM/4G 单通道开关             |                GSM/4G 单通道开关                 |  24  |
|                 香薰机                 |                    香薰机                     |  25  |
|          GSM/4G 单通道开关包流量          |             GSM/4G 单通道开关包流量              |  27  |
|                RFBridge                |           WiFi 转 RF 无线遥控器 UI            |  28  |
|           GSM/4G 双通道开关插座           |              GSM/4G 双通道开关插座               |  29  |
|           GSM/4G 四通道开关插座           |              GSM/4G 四通道开关插座               |  31  |
|          功率检测插座过载告警          |        功率检测插座 可设置过载保护告警        |  32  |
|             RGB 灯带控制器             |       基于透传模块协议的 RGB 灯带控制器       |  33  |
|               智能风扇灯               |       3 档风扇灯 - 基于 4 通道开关协议        |  34  |
|                   -                    |                       -                       |  35  |
|              单路调光开关              | 基于 RGB 灯带控制器透传模块协议的单路调光开关 |  36  |
|                   -                    |                       -                       |  38  |
|               单路调光灯               |       基于 PSF-BLD 模块协议的单色调光灯       |  44  |
|             筒灯及新吸顶灯             |                筒灯及新吸顶灯                 |  45  |
|            调光调色温吸顶灯            |               调光调色温吸顶灯                |  52  |
|             RGB 四色球泡灯             |                RGB 四色球泡灯                 |  56  |
|               单色球泡灯               |                  单色球泡灯                   |  57  |
|                律动灯带                |                   律动灯带                    |  59  |
|               智能路由器               |                  智能路由器                   |  61  |
|                   -                    |                       -                       |  62  |
|                   -                    |                       -                       |  63  |
|                   -                    |                       -                       |  65  |
|              Zigbee 网关               |                  Zigbee 网关                  |  66  |
|               -               |                  -                   |  68  |
|               -               |                  -                   |  69  |
|              -              |                 -                  |  76  |
|          单通道插座-多通道版           |              单通道插座-多通道版              |  77  |
|          单通道开关-多通道版           |              单通道开关-多通道版              |  78  |
|       GSM/4G 单通道插座-无流量版本        |           GSM/4G 单通道插座-无流量版本           |  81  |
|       GSM/4G 双通道插座-无流量版本        |           GSM/4G 双通道插座-无流量版本           |  82  |
|       GSM/4G 三通道插座-无流量版本        |           GSM/4G 三通道插座-无流量版本           |  83  |
|       GSM/4G 四通道插座-无流量版本        |           GSM/4G 四通道插座-无流量版本           |  84  |
|                   -                    |                       -                       |  86  |
|                   -                    |                       -                       |  87  |
|                   -                    |                       -                       |  88  |
|              GSM-RFBridge              |               GSM 版本 RFBridge               |  90  |
|               智能卷帘门               |                  智能卷帘门                   |  91  |
|                   -                    |                       -                       |  92  |
|              RF 门铃网关               |                  RF 门铃网关                  |  98  |
|               WiFi 门磁                |                   WiFi 门磁                   | 102  |
|       双色冷暖灯\_支持随调及场景       |          双色冷暖灯\_支持随调及场景           | 103  |
|       RGB 五色灯\_支持随调及场景       |          RGB 五色灯\_支持随调及场景           | 104  |
|      GSM/4G 单通道插座 - 多通道协议       |  GSM/4G 单通道插座 - 多通道协议 含流量设备使用   | 107  |
|         易微联 WiFi 转红外网关         |            易微联 WiFi 转红外网关             | 109  |
|            GSM/4G 电量统计插座            |                    GSB-D67                    | 110  |
|          单通道开关微波雷达版          |             单通道开关微波雷达版              | 112  |
|          双通道开关微波雷达版          |             双通道开关微波雷达版              | 113  |
|          三通道开关微波雷达版          |             三通道开关微波雷达版              | 114  |
|         2.4G 单通道开关遥控器          |             2.4G 单通道开关遥控器             | 118  |
|        多功能双通道电量检测开关        |           多功能双通道电量检测开关            | 126  |
|               堆叠式电表               |                  堆叠式电表                   | 128  |
|       堆叠式电表四通道开关子设备       |          堆叠式电表四通道开关子设备           | 130  |
|              HMI 墙面开关              |                 HMI 墙面开关                  | 133  |
|      双色冷暖灯\_支持 2.4G 轻智能      |         双色冷暖灯\_支持 2.4G 轻智能          | 135  |
|      RGB 五色灯\_支持 2.4G 轻智能      |         RGB 五色灯\_支持 2.4G 轻智能          | 136  |
|            律动灯带-蓝牙版             |                律动灯带-蓝牙版                | 137  |
|      单通道插座\_支持 2.4G 轻智能      |         单通道插座\_支持 2.4G 轻智能          | 138  |
|      双通道插座\_支持 2.4G 轻智能      |         双通道插座\_支持 2.4G 轻智能          | 139  |
|      三通道插座\_支持 2.4G 轻智能      |         三通道插座\_支持 2.4G 轻智能          | 140  |
|      四通道插座\_支持 2.4G 轻智能      |         四通道插座\_支持 2.4G 轻智能          | 141  |
|                美的空调                |                   美的空调                    | 142  |
|         轻智能双色冷暖灯遥控器         |            轻智能双色冷暖灯遥控器             | 148  |
|               轻智能网关               |                  轻智能网关                   | 149  |
|             新版 WiFi 门磁             |                新版 WiFi 门磁                 | 154  |
|                   -                    |                       -                       | 156  |
|      律动五色灯\_支持 2.4G 轻智能      |         律动五色灯\_支持 2.4G 轻智能          | 157  |
|                   -                    |                       -                       | 158  |
|            幻彩灯带-蓝牙版             |                幻彩灯带-蓝牙版                | 159  |
|      单通道开关\_支持 2.4G 轻智能      |         单通道开关\_支持 2.4G 轻智能          | 160  |
|      双通道开关\_支持 2.4G 轻智能      |         双通道开关\_支持 2.4G 轻智能          | 161  |
|      三通道开关\_支持 2.4G 轻智能      |         三通道开关\_支持 2.4G 轻智能          | 162  |
|      四通道开关\_支持 2.4G 轻智能      |         四通道开关\_支持 2.4G 轻智能          | 163  |
|     多功能双通道开关\_支持电机模式     |        多功能双通道开关\_支持电机模式         | 165  |
|            ZigBee 蜂鸣网关             |                ZigBee 蜂鸣网关                | 168  |
|            2.4G 交流风扇灯             |                2.4G 交流风扇灯                | 169  |
|               摄像头网关               |                  摄像头网关                   | 170  |
|            摄像头网关子设备            |               摄像头网关子设备                | 171  |
|          情景面板-轻智能网关           |              情景面板-轻智能网关              | 172  |
|            幻彩灯带-Sonoff             |                幻彩灯带-Sonoff                | 173  |
|           情景开关（六按键）           |              情景开关（六按键）               | 174  |
|                开关伴侣                |                   开关伴侣                    | 177  |
| 双色冷暖灯\_支持机械开关分段及夜间模式 |    双色冷暖灯\_支持机械开关分段及夜间模式     | 179  |
|    功率检测插座过载告警-多通道协议     |        功率检测插座过载告警-多通道协议        | 182  |
|    断路器     |       断路器        | 226  |
|            Zigbee 无线按键             |                Zigbee 无线按键                | 1000 |
|           Zigbee 单通道插座            |               Zigbee 单通道插座               | 1009 |
|           Zigbee 单通道开关            |               Zigbee 单通道开关               | 1256 |
|             Zigbee 单色灯              |                 Zigbee 单色灯                 | 1257 |
|             Zigbee 双色灯              |                 Zigbee 双色灯                 | 1258 |
|          Zigbee 温湿度传感器           |              Zigbee 温湿度传感器              | 1770 |
|           Zigbee 移动传感器            |               Zigbee 移动传感器               | 2026 |
|           Zigbee 双通道开关            |               Zigbee 双通道开关               | 2256 |
|           Zigbee 门窗传感器            |               Zigbee 门窗传感器               | 3026 |
|           Zigbee 三通道开关            |               Zigbee 三通道开关               | 3256 |
|             Zigbee 五色灯              |                 Zigbee 五色灯                 | 3258 |
|           Zigbee 水浸传感器            |               Zigbee 水浸传感器               | 4026 |
|           Zigbee 四通道开关            |               Zigbee 四通道开关               | 4256 |
|           Zigbee 烟雾传感器            |               Zigbee 烟雾传感器               | 5026 |
|      Zigbee 人体传感器\_支持 OTA       |          Zigbee 人体传感器\_支持 OTA          | 7002 |
|         Zigbee 门磁\_支持 OTA          |             Zigbee 门磁\_支持 OTA             | 7003 |
|     Zigbee 单通道开关 ­\_支持 OTA      |         Zigbee 单通道开关 ­\_支持 OTA         | 7004 |

</div>

## 控制指令传参说明

说明：对于 APP 端而言，云平台模式就是 APP 通过 WebSocket 建立长连接发送 update 消息控制设备，以下的控制指令都是 "params" 参数的内容（协议）。

例如：来自 APP 端一条完整的 WebSocket 更新指令是：

```json
{
  "action": "update",
  "deviceid": "100000001",
  "apikey": "用户apikey",
  "userAgent": "app",
  "sequence": "1585297259553",
  "ts": 1585297259,
  "params": {
    // 放在这里
    "switches": [
      {
        "switch": "on",
        "outlet": 0
      },
      {
        "switch": "on",
        "outlet": 1
      },
      {
        "switch": "on",
        "outlet": 2
      },
      {
        "switch": "on",
        "outlet": 3
      }
    ]
  }
}
```

或者使用接口方式控制设备，参数内容：

```json
{
  "type": 1,
  "id": "100000001",
  "params": {
    // 放在这里
    "switches": [
      {
        "switch": "on",
        "outlet": 0
      },
      {
        "switch": "on",
        "outlet": 1
      },
      {
        "switch": "on",
        "outlet": 2
      },
      {
        "switch": "on",
        "outlet": 3
      }
    ]
  }
}
```

除接口返回参数为标准格式（见接口中心 v2）外，设备通过 WebSocket 接收到 APP 控制指令返回值完整消息示例：

```json
{
  "error": 0, // or 400
  "apikey": "用户apikey",
  "deviceid": "100000001",
  "userAgent": "device",
  "sequence": "1585297259553" // 需要和APP端发送的一致
}
```

设备通过 WebSocket 发送的一条完整上报状态消息是：

```json
{
  "action": "update",
  "userAgent": "device",
  "apikey": "用户apikey",
  "deviceid": "100000001",
  "params": {
    "switch": "on"
  }
}
```

params 会存储在服务端，APP 通过接口可以获取到当前设备最后一次上报的状态参数。

## 通用参数说明

| 参数名     | 数据类型       | 取值范围 | 参数说明                                            |
| ---------- | -------------- | -------- | --------------------------------------------------- |
| sledOnline | String         | on,off   | 网络指示灯开关，on 打开，off 关闭                   |
| fwVersion  | String         |          | 当前的固件版本号，例如："3.4.0"                     |
| chipid     | String         |          | 芯片 id，一般认为是一个芯片的固定参数，每个芯片唯一 |
| rssi       | String         |          | WiFi 信号强度，单位：dBm，比如：-55                 |
| timers     | Array\<Object> |          | 定时器对象，每种设备类型的执行动作会不同            |

设备联网上线上报参数说明：

每次设备上线都要上报自身的状态和参数，包括但不限于开关参数、点动、通电反应、互锁、信号强度等。

rssi 说明：

定义 RSSI 为四个等级，等级界限值如下：

- 等级一：rssi < -92
- 等级二：rssi < -77 且 rssi > -92
- 等级三：rssi < -62 且 rssi > -77
- 等级四：rssi > -62

当检测到当前连接路由或者基站的 rssi 值跨等级时需上报 rssi 值。

关于定时器的具体说明，请见下文。

## 定时器规则

说明：所有时间都需要转成 UTC 时间传输，比如手机时间 18:00，传到服务端要改成 10:00。

### 定时器参数

#### 参数说明

| 名称               | 类型   | 允许为空 | 说明                                                                           |
| :----------------- | :----- | :------- | :----------------------------------------------------------------------------- |
| enabled            | Number | N        | 是否启用: 0 表示禁用；1 表示启用                                               |
| mId                | String | N        | 定时标记，可以理解为该定时器的 ID，不能重复，UUID 格式，可以使用库生成         |
| type               | String | N        | 设备端使用， once 单次定时和延时；repeat 重复定时；duration 循环定时           |
| coolkit_timer_type | String | N        | 客户端使用， once 单次定时；repeat 重复定时；duration 循环定时；delay 延时定时 |
| at                 | String | N        | 执行时间: 格林尼治时间，也可采用 UTC 时间                                      |
| do                 | Object | Y        | 要执行的动作                                                                   |
| startDo            | Object | Y        | 循环定时专用: 周期开始要执行的动作                                             |
| endDo              | Object | Y        | 循环定时专用: 随后再执行的动作                                                 |
| period             | String | Y        | 延时定时专用: 延时时间，单位为分钟                                             |

### 定时器类型

以下以单通道设备示例：

#### 单次定时

世界协调时：

年份-月份-日期 T 小时:分钟:秒.毫秒 Z

    "at":"2020-10-15T07:05:00.279Z" // 7点05分0秒执行

示例：

```json
{
  "timers": [
    {
      "mId": "baf5e0d4-a268-cbfb-fd3e-92892cd35029",
      "type": "once",
      "at": "2020-10-15T07:05:00.279Z",
      "coolkit_timer_type": "once",
      "enabled": 1,
      "do": {
        "switch": "on"
      }
    }
  ]
}
```

#### 重复定时

分钟 小时 日 月 星期

    "at": "0 10 * * 0,1,2" // 时间表达式参考cron，代表每周日、一、二的10:00执行

取值范围：

- 分钟：0–59
- 小时：0–23
- 日：1–31（目前默认为\*，代表每一天）
- 月：1–12（目前默认为\*，代表所有月份）
- 星期：0-6（星期天是 0）

示例：

```json
{
  "timers": [
    {
      "mId": "ab5116e0-e651-9366-16e5-7c3f4332f0d2",
      "type": "repeat",
      "at": "0 10 * * 0,1,2",
      "coolkit_timer_type": "repeat",
      "enabled": 1,
      "do": {
        "switch": "on"
      }
    }
  ]
}
```

#### 循环定时（交替）

年份-月份-日期 T 小时:分钟:秒.毫秒 Z 循环周期（分钟） 间隔时间（分钟）

    "at":"2020-05-31T17:00:00.433Z 10 5",//循环定时执行时间 循环周期 10分钟 再执行 5分钟

示例：

```json
{
  "timers": [
    {
      "mId": "87bc1e7f-81f4-ac48-6f34-3f225edefb9a",
      "type": "duration",
      "at": "2020-05-31T17:00:00.433Z 10 5",
      "coolkit_timer_type": "duration",
      "enabled": 1,
      "startDo": {
        "switch": "off",
        "outlet": 0
      },
      "endDo": {
        "switch": "on"
      }
    }
  ]
}
```

#### 循环定时（重复）

年份-月份-日期 T 小时:分钟:秒.毫秒 Z 循环周期（分钟）

    "at":"2020-11-13T08:02:00.759Z 30",//循环定时执行时间 30分钟重复一次

示例：

```json
{
  "timers": [
    {
      "mId": "75144f1f-1a0a-96c9-b15c-b5411a81d1a9",
      "type": "duration",
      "at": "2020-11-13T08:02:00.759Z 30",
      "coolkit_timer_type": "duration",
      "enabled": 1,
      "do": {
        "switch": "off"
      }
    }
  ]
}
```

#### 延时

世界协调时

年份-月份-日期 T 小时:分钟:秒.毫秒 Z

    "at":"2021-06-28T11:39:00.891Z" // 11点39分0秒执行，同级参数要附带个"period"，表示其实是延时后的时间。

示例：

```json
{
  "timers": [
    {
      "mId": "18d76d8a-39a1-3346-455e-115dc948822f",
      "type": "once",
      "at": "2021-06-28T11:39:00.891Z", // 延时后的时间
      "coolkit_timer_type": "delay",
      "enabled": 1,
      "do": {
        "switch": "off"
      },
      "period": "17" // 延时的时间是17分钟
    }
  ]
}
```

## 具体控制协议

### UIID1 单通道插座

#### 参数说明

| 参数名     | 数据类型       | 取值范围                                         | 参数说明                                                                                                        |
| ---------- | -------------- | ------------------------------------------------ | --------------------------------------------------------------------------------------------------------------- |
| switch     | String         | on,off                                           | 通道的开关，on 打开，off 关闭                                                                                   |
| startup    | String         | on,stay,off                                      | 通电反应设置，on 上电开，stay 上电保持，off 上电                                                                |
| pulse      | String         | on,off                                           | 点动状态开关，on 打开，off 关闭                                                                                 |
| pulseWidth | Number         | [500,3600000]（单位：毫秒，支持设置 500 的整数） | 点动时间长短，取值范围 500-3600000（单位毫秒，即 0.5 秒-3600 秒），仅支持设置取值 500 毫秒（即 0.5 秒）的整数倍 |
| timers     | Array\<Object> |                                                  | 定时器对象，每种设备类型的执行动作会不同                                                                        |

#### 控制指令

1、打开设备

```json

{
  "switch": "on"
}

```

2、打开单通道插座指示灯的开关，打开指示灯

```json
{
  "sledOnline": "on"
}
```

3、设置每次操作打开单通道插座后需要在随后的 1 秒自动关闭单通道插座

```json
{
  "pulse": "on",
  "pulseWidth": 1000
}
```

4、设置设备断电再来电，打开设备开关：

```json
{
  "startup": "on"
}
```

定时器设置见《定时器规则》示例。

### UIID2 双通道插座

#### 参数说明

| 参数名    | 数据类型       | 取值范围 | 参数说明                                                                                                                   |
| --------- | -------------- | -------- | -------------------------------------------------------------------------------------------------------------------------- |
| switches  | Array\<Object> |          | 所有通道的开关状态                                                                                                         |
| pulses    | Array\<Object> |          | 所有通道的点动开关状态                                                                                                     |
| configure | Array\<Object> |          | 所有通道的上电保持状态                                                                                                     |
| timers    | Array\<Object> |          | 定时器对象，每种设备类型的执行动作会不同，双通道插座不支持循环定时（重复或者交替），**执行动作暂只支持设置单个通道的状态** |

switches 参数说明：

| 名称   | 类型   | 允许为空 | 说明                                     |
| :----- | :----- | :------- | :--------------------------------------- |
| switch | String | on,off   | 通道的开关，on 打开，off 关闭            |
| outlet | Number | [0,3]    | 取值范围 0-3，分别表示通道 1-4，不能重复 |

configure 参数说明：

| 名称    | 类型   | 允许为空    | 说明                                                         |
| :------ | :----- | :---------- | :----------------------------------------------------------- |
| startup | String | on,stay,off | 特定通道的上电保持状态，on 上电开，stay 上电保持，off 上电关 |
| outlet  | Number | [0,3]       | 取值范围 0-3，分别表示通道 1-4，不能重复                     |

pulses 参数说明：

| 名称       | 类型   | 允许为空                                         | 说明                                                                                                            |
| :--------- | :----- | :----------------------------------------------- | :-------------------------------------------------------------------------------------------------------------- |
| pulse      | String | on,off                                           | 点动时间开关，on 打开，off 关闭                                                                                 |
| width | Number | [500,3600000]（单位：毫秒，支持设置 500 的整数） | 点动时间长短，取值范围 500-3600000（单位毫秒，即 0.5 秒-3600 秒），仅支持设置取值 500 毫秒（即 0.5 秒）的整数倍 |
| outlet     | Number | [0,3]                                            | 取值范围 0-3，分别表示通道 1-4，不能重复                                                                        |

#### 控制指令

1、打开通道 1 的开关

```json
{
  "switches": [
    {
      "switch": "on",
      "outlet": 0
    },
    {
      "switch": "off",
      "outlet": 1
    },
    {
      "switch": "off",
      "outlet": 2
    },
    {
      "switch": "off",
      "outlet": 3
    }
  ]
}
```

2、设置通道一在断电后通电时打开开关，通道二在断电后通电时保持断电之前的开关状态

```json
{
  "configure": [
    {
      "startup": "on",
      "outlet": 0
    },
    {
      "startup": "stay",
      "outlet": 1
    },
    {
      "startup": "off",
      "outlet": 2
    },
    {
      "startup": "off",
      "outlet": 3
    }
  ]
}
```

3、打开网络指示灯

```json
{
  "sledOnline": "on"
}
```

4、设置每次操作打开双通道插座的通道一后需要在随后的 2 秒自动关闭：

```json
{
  "pulses": [
    {
      "pulse": "on",
      "width": 2000,
      "outlet": 0
    },
    {
      "pulse": "off",
      "width": 2000,
      "outlet": 1
    },
    {
      "pulse": "off",
      "width": 2000,
      "outlet": 2
    },
    {
      "pulse": "off",
      "width": 2000,
      "outlet": 3
    }
  ]
}
```

5、定时器设置

5.1 单次定时

世界协调时

年份-月份-日期 T 小时:分钟:秒.毫秒 Z

    "at":"2020-10-15T07:05:00.279Z" // 7点05分0秒执行

示例：

```json
{
  "timers": [
    {
      "mId": "baf5e0d4-a268-cbfb-fd3e-92892cd35029",
      "type": "once",
      "at": "2020-10-15T07:05:00.279Z",
      "coolkit_timer_type": "once",
      "enabled": 1,
      "do": {
        "switch": "on",
        "outlet": 0
      }
    }
  ]
}
```

5.2 重复定时

分钟 小时 日 月 星期

    "at":"0 10 * * 0,1,2" // 时间表达式参考cron，代表每周日、一、二的10:00执行

取值范围：

- 分钟：0–59
- 小时: 0–23
- 日：1–31（目前默认为\*，代表每一天）
- 月：1–12（目前默认为\*，代表所有月份）
- 星期：0-6（星期天是 0）

示例：

```json
{
  "timers": [
    {
      "mId": "ab5116e0-e651-9366-16e5-7c3f4332f0d2",
      "type": "repeat",
      "at": "0 10 * * 0,1,2",
      "coolkit_timer_type": "repeat",
      "enabled": 1,
      "do": {
        "switch": "on",
        "outlet": 0
      }
    }
  ]
}
```

5.3 延时

世界协调时

年份-月份-日期 T 小时:分钟:秒.毫秒 Z

    "at":"2021-06-28T11:39:00.891Z" // 11点39分0秒执行，同级参数要附带个"period"，表示其实是延时后的时间。

示例：

```json
{
  "timers": [
    {
      "mId": "18d76d8a-39a1-3346-455e-115dc948822f",
      "type": "once",
      "at": "2021-06-28T11:39:00.891Z", // 延时后的时间
      "coolkit_timer_type": "delay",
      "enabled": 1,
      "do": {
        "switch": "off",
        "outlet": 0
      },
      "period": "17" // 延时的时间是17分钟
    }
  ]
}
```

### UIID3 三通道插座

#### 参数说明

| 参数名    | 数据类型       | 取值范围 | 参数说明                                                                           |
| --------- | -------------- | -------- | ---------------------------------------------------------------------------------- |
| switches  | Array\<Object> |          | 所有通道的开关状态                                                                 |
| pulses    | Array\<Object> |          | 所有通道的点动开关状态                                                             |
| configure | Array\<Object> |          | 所有通道的上电保持状态                                                             |
| timers    | Array\<Object> |          | 定时器对象，每种设备类型的执行动作会不同，三通道插座不支持循环定时（重复或者交替） |

switches 参数说明：

| 名称   | 类型   | 允许为空 | 说明                                     |
| :----- | :----- | :------- | :--------------------------------------- |
| switch | String | on,off   | 通道的开关，on 打开，off 关闭            |
| outlet | Number | [0,3]    | 取值范围 0-3，分别表示通道 1-4，不能重复 |

configure 参数说明：

| 名称    | 类型   | 允许为空    | 说明                                                         |
| :------ | :----- | :---------- | :----------------------------------------------------------- |
| startup | String | on,stay,off | 特定通道的上电保持状态，on 上电开，stay 上电保持，off 上电关 |
| outlet  | Number | [0,3]       | 取值范围 0-3，分别表示通道 1-4，不能重复                     |

pulses 参数说明：

| 名称       | 类型   | 允许为空                                         | 说明                                                                                                            |
| :--------- | :----- | :----------------------------------------------- | :-------------------------------------------------------------------------------------------------------------- |
| pulse      | String | on,off                                           | 点动时间开关，on 打开，off 关闭                                                                                 |
| pulseWidth | Number | [500,3600000]（单位：毫秒，支持设置 500 的整数） | 点动时间长短，取值范围 500-3600000（单位毫秒，即 0.5 秒-3600 秒），仅支持设置取值 500 毫秒（即 0.5 秒）的整数倍 |
| outlet     | Number | [0,3]                                            | 取值范围 0-3，分别表示通道 1-4，不能重复                                                                        |

#### 控制指令

1、打开通道 1、2、3 的开关

```json
{
  "switches": [
    {
      "switch": "on",
      "outlet": 0
    },
    {
      "switch": "on",
      "outlet": 1
    },
    {
      "switch": "on",
      "outlet": 2
    },
    {
      "switch": "off",
      "outlet": 3
    }
  ]
}
```

其他功能包括定时器和 UIID2 保持一致。

### UIID4 四通道插座

#### 参数说明

| 参数名    | 数据类型       | 取值范围 | 参数说明                                                                           |
| --------- | -------------- | -------- | ---------------------------------------------------------------------------------- |
| switches  | Array\<Object> |          | 所有通道的开关状态                                                                 |
| pulses    | Array\<Object> |          | 所有通道的点动开关状态                                                             |
| configure | Array\<Object> |          | 所有通道的上电保持状态                                                             |
| timers    | Array\<Object> |          | 定时器对象，每种设备类型的执行动作会不同，四通道插座不支持循环定时（重复或者交替） |

switches 参数说明：

| 名称   | 类型   | 允许为空 | 说明                                     |
| :----- | :----- | :------- | :--------------------------------------- |
| switch | String | on,off   | 通道的开关，on 打开，off 关闭            |
| outlet | Number | [0,3]    | 取值范围 0-3，分别表示通道 1-4，不能重复 |

configure 参数说明：

| 名称    | 类型   | 允许为空    | 说明                                                         |
| :------ | :----- | :---------- | :----------------------------------------------------------- |
| startup | String | on,stay,off | 特定通道的上电保持状态，on 上电开，stay 上电保持，off 上电关 |
| outlet  | Number | [0,3]       | 取值范围 0-3，分别表示通道 1-4，不能重复                     |

pulses 参数说明：

| 名称       | 类型   | 允许为空                                         | 说明                                                                                                            |
| :--------- | :----- | :----------------------------------------------- | :-------------------------------------------------------------------------------------------------------------- |
| pulse      | String | on,off                                           | 点动时间开关，on 打开，off 关闭                                                                                 |
| pulseWidth | Number | [500,3600000]（单位：毫秒，支持设置 500 的整数） | 点动时间长短，取值范围 500-3600000（单位毫秒，即 0.5 秒-3600 秒），仅支持设置取值 500 毫秒（即 0.5 秒）的整数倍 |
| outlet     | Number | [0,3]                                            | 取值范围 0-3，分别表示通道 1-4，不能重复                                                                        |

#### 控制指令

1、关闭通道 1、2、3、4 的开关

```json
{
  "switches": [
    {
      "switch": "off",
      "outlet": 0
    },
    {
      "switch": "off",
      "outlet": 1
    },
    {
      "switch": "off",
      "outlet": 2
    },
    {
      "switch": "off",
      "outlet": 3
    }
  ]
}
```

其他功能包括定时器和 UIID2 保持一致。

### UIID5 功率检测单通道插座

#### 参数说明

| 参数名             | 数据类型       | 取值范围         | 参数说明                                                                                                                                                                                                                                             |
| ------------------ | -------------- | ---------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| switch             | String         | on,off           | 总开关，on 打开，off 关闭                                                                                                                                                                                                                            |
| power              | String         | 带两位小数的正数 | 功率，单位 W，例如：1800.01                                                                                                                                                                                                                          |
| voltage            | String         | 带两位小数的正数 | 电压，单位 V，例如：220.00                                                                                                                                                                                                                           |
| current            | String         | 带两位小数的正数 | 电流，单位 A，例如：1.00                                                                                                                                                                                                                             |
| oneKwh             | String         | start,stop,get   | 统计用电量，start 开始统计，stop 结束统计，get 刷新，单位 KW.H                                                                                                                                                                                       |
| startTime          | Datetime       |                  | 统计本次用电量的开始时间，零时区                                                                                                                                                                                                                     |
| endTime            | Datetime       |                  | 统计本次用电量的结束时间，零时区                                                                                                                                                                                                                     |
| hundredDaysKwh     | String         | get              | 获取过去 100 天的历史用电量，单位 Kwh                                                                                                                                                                                                                |
| hundredDaysKwhData | String         |                  | 100 天日用电量数值的 16 进制全小写字符串表示，共 600 个字节，精确到小数点后两位，单位是 KW.H。若 100 日的日总用电量为："25.11，25.31，0.00，0.00................(共 100 天)" ‐> "190101190301000000000000.....时间顺序为当日在最前面，其它的往后排。 |
| sledOnline         | String         | on,off           | 指示灯开关，on 打开，off 关闭                                                                                                                                                                                                                        |
| timeZone           | Int            |                  | 获取当前手机所在时区，东区显示为正，西区显示为负                                                                                                                                                                                                     |
| uiActive           | Int            |                  | 表示此次 UI 激活的有效时间，单位 S（默认 60S）。UI 关闭或后台运行时候不发送。该字段仅用于长连接，局域网下无需支持。                                                                                                                                  |
| oneKwhData         | Float          | [0‐50000]        | 本次用电量值的 10 进制字符串表示，精确到小数点后 2 位，单位是 KW.H，取值范围为[0‐50000]，如：110.32                                                                                                                                                  |
| timers             | Array\<Object> |                  | 定时器对象，每种设备类型的执行动作会不同                                                                                                                                                                                                             |

#### 控制指令

1、打开设备

```json

{
  "switch": on
}

```

2、激活指令

设备在激活期内，如果功率变化超过 2W，或电压超过 5V，或电流超过 0.03A 就上报状态，如果在激活期外，则不上报到服务端。

```json
{
  "uiActive": 60
}
```

App 需要在 60s 激活期内再次发送激活 UI 的指令，目前 APP 在启动后每 50 秒发送一次指令，设备端收到指令后，在满足条件后上报：

```json
{
  "power":"300.00",
  "voltage":"220.00",
  "current":"5.00"
}
```

3、开始统计本次用电量，start 开始统计，stop 结束统计

点击 start 发送指令:

```json
{
  "onKwh": "start",
  "endTime": "",
  "startTime": "2022-06-06T03:37:05.064Z"
}
```

点击 stop 需要先发送停止指令:

```json
{
  "onKwh": "stop",
  "endTime": "2022-06-06T03:57:05.064Z",
  "startTime": "2022-06-06T03:37:05.064Z"
}
```

再发送获取当前用电量指令:

```json
{
  "oneKwh": "get"
}
```

刷新用电量：

```json
{
  "oneKwh": "get"
}
```

- 设备返回 "oneKwhData"：本次用电量值的 10 进制字符串表示，精确到小数点后 2 位,单位是 KW.H，取值范围为[0‐50000]，如：110.32

4、查看历史用电量

```json
{
  "hundredDaysKwh": "get"
}
```

设备返回 "hundredDaysKwhData"：100 天日用电量数值的 16 进制全小写字符串表示，共 600 个字节，精确到小数点后两位，单位是 KW.H。若 100 日的日总用电量为："25.11，25.31，0.00，0.00................(共 100 天)" ‐> "190101190301000000000000.....时间顺序为当日在最前面，其它的往后追加。

5、打开功率检测单通道插座指示灯的开关，打开指示灯：

```json
{
  "sledOnline": "on"
}
```

6、设置每次操作打开功率检测单通道插座后需要在随后的 1 秒自动关闭

```json
{
  "pulse": "on",
  "pulseWidth": 1000
}
```

备注：

- pulse：点动开关，设置每次操作打开单通道插座后需要在随后某个时间执行关闭设备
- pulseWidth：设置点动时间，单位毫秒，最短 500 毫秒，最长 3600000 毫秒，仅支持设置 500 的整数倍。

定时器设置 和 UIID1 保持一致，仅支持打开关闭设备。

### UIID6 单通道开关

和 UIID1 保持一致。

### UIID7 双通道开关

和 UIID2 保持一致。

### UIID8 三通道开关

和 UIID3 保持一致。

### UIID9 四通道开关

和 UIID4 保持一致。

### UIID14 开关改装模块

和 UIID1 保持一致。

### UIID15 恒温恒湿改装件

#### 参数说明

| 参数名             | 数据类型 | 取值范围                                         | 参数说明                                                                                                                                                                                                                |
| ------------------ | -------- | ------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| switch             | String   | on,off                                           | 通道的开关，on 打开，off 关闭                                                                                                                                                                                           |
| startup            | String   | on,stay,off                                      | 通电反应设置，on 上电开，stay 上电保持，off 上电                                                                                                                                                                        |
| pulse              | String   | on,off                                           | 点动状态开关，on 打开，off 关闭                                                                                                                                                                                         |
| pulseWidth         | Number   | [500,3600000]（单位：毫秒，支持设置 500 的整数） | 点动时间长短，取值范围 500-3600000（单位毫秒，即 0.5 秒-3600 秒），仅支持设置取值 500 毫秒（即 0.5 秒）的整数倍                                                                                                         |
| mainSwitch         | String   | on,off                                           | 温控器开关                                                                                                                                                                                                              |
| deviceType         | String   | normal,temperature,humidity                      | 设备的控制方式状态，temperature 温度控制，humidity 湿度控制，normal 正常，即手动控制开关状态，自动控制下禁用点动功能                                                                                                    |
| sensorType         | String   | DHT11/DS18B20/AM2301/MS01/errorType              | 传感器型号，DHT11：湿度范围[20,90]、温度范围[0,50]；DS18B20：湿度不可用、温度范围[-55,125]；AM2301：湿度范围[0,100]、温度范围[-40,80]；MS01：土壤湿度传感器，湿度范围[0,100]、温度不可用；errorType：不支持的传感器类型 |
| currentHumidity    | String   |                                                  | 当前湿度值，当湿度不可用时 currentHumidity 值为 unavailable                                                                                                                                                             |
| currentTemperature | String   |                                                  | 当前温度值，当温度不可用时，currentTemperature 值为 unavailable；                                                                                                                                                       |
| targets            | Array    |                                                  | 自动模式的执行条件及目标反应，当温度或湿度达到预设值（targetHigh/targetLow），则触发目标反应 reaction                                                                                                                   |
| targetHigh         | String   | 温度范围[-999,999]，湿度范围[0,100]              | 目标上限值，targetHigh 值必须大于 targetLow 值                                                                                                                                                                          |
| targetLow          | String   | 温度范围[-999,999]，湿度范围[0,100]              | 目标下限值，temperature 温度控制，humidity 湿度控制，normal 正常                                                                                                                                                        |
| reaction           | Object   |                                                  | 达到预设值之后执行动作，禁止上限阈值触发反应与下限阈值触发反应相同，即两个触发反应不能同时打开或同时关闭                                                                                                                |

#### 控制指令

1、打开设备

```json
{
  "switch": "on",
  "mainSwitch": "on",
  "deviceType": "normal"
}
```

2、关闭设备

```json
{
  "switch": "off",
  "mainSwitch": "off"
}
```

3、设备上报实时温度、湿度、传感器类型

```json
{
  "currentTemperature": "15",
  "currentHumidity": "50",
  "sensorType": "DS18B20"
}
```

温度精度(上报阈值)为0.5度，湿度精度(上报阈值)为5%，温度分辨率为0.1度，湿度分辨率为1%，每5S判断一次是否符合数据上传策略每次触发温度值和湿度值一并上传，共用检测间隔时长。同时上线时上传一次温度和湿度。

4、打开自动模式

```json
//设置为温度自动控制，大于25°C则关闭，小于24°C则打开
{
  "deviceType": "temperature",
  "mainSwitch": "on",
  "targets": [
    {
      "targetHigh": "25",
      "reaction": {
        "switch": "off"
      }
    },
    {
      "targetLow": "24",
      "reaction": {
        "switch": "on"
      }
    }
  ]
}
```

注意：

进入自动模式后，此时物理上关闭设备会进入临时手动状态，APP 或物理上打开后会再次进入自动模式。

- 手动模式：deviceType == normal && mainSwitch == off || deviceType == normal && mainSwitch == on
- 临时手动模式：deviceType != normal && mainSwitch == off
- 自动控制模式：deviceType != normal && mainSwitch == on

5、退出自动控制

```json
{
  "mainSwitch": "off",
  "deviceType": "normal"
}
```

6、设置通电反应（上电状态）

```json
{
  "startup": "on"
}
```

7、设置定时器

```json
{
  "timers": [
    {
      //延时
      "mId": "6bdfc96c-0962-ad75-c430-15d9eb351154",
      "type": "once",
      "at": "2020-12-16T18:37:00.761Z",
      "coolkit_timer_type": "delay",
      "enabled": 1,
      "do": {
        "switch": "on",
        "mainSwitch": "on"
      },
      "period": "390"
    },
    {
      //单次定时
      "mId": "c5601da9-aa5f-0946-a1fd-2a2a35daf59a",
      "type": "once",
      "at": "2020-12-16T13:11:00.974Z",
      "coolkit_timer_type": "once",
      "enabled": 1,
      "do": {
        "switch": "on",
        "mainSwitch": "on"
      }
    },
    {
      //重复定时
      "mId": "870262af-4f9c-7d23-318b-f65d5a79d3eb",
      "type": "repeat",
      "at": "6 15 * * 0,1,2,3,4,5,6",
      "coolkit_timer_type": "repeat",
      "enabled": 1,
      "do": {
        "switch": "on",
        "mainSwitch": "on"
      }
    },
    {
      //循环定时-重复 开始时间到了后 开启设备，然后每30分钟执行一次打开
      "mId": "fcfd83d5-4c8c-50c6-73e8-aeadeac5abdc",
      "type": "duration",
      "at": "2020-12-16T15:23:00.140Z 30",
      "coolkit_timer_type": "duration",
      "enabled": 1,
      "do": {
        "switch": "on",
        "mainSwitch": "on"
      }
    },
    {
      //循环定时-交替 每60分钟一个周期，开始时间到了后 关闭设备，然后30分钟后开启设备，30分钟后关闭设备...
      "mId": "fcfd83d5-4c8c-50c6-73e8-aeadeac5abdc",
      "type": "duration",
      "at": "2020-12-16T15:23:00.140Z 60 30",
      "coolkit_timer_type": "duration",
      "enabled": 1,
      "startDo": {
        "switch": "off",
        "mainSwitch": "off"
      },
      "endDo": {
        "switch": "on",
        "mainSwitch": "on"
      }
    }
  ]
}
```

8、点动设置：

```json
{
  "pulseWidth": 1500,
  "pulse": "on"
}
```

9、设备上报版本、信号强度

```json
{
  "fwVersion": "3.4.1",
  "rssi": -46
}
```

### UIID16 冷暖双色调光灯

#### 参数说明

| 参数名   | 数据类型       | 取值范围                  | 参数说明                                                                                                                                                                                                         |
| -------- | -------------- | ------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| state    | String         | on,off                    | 灯的开关，on 打开，off 关闭                                                                                                                                                                                      |
| channel0 | String         | [25,255]，分为 21 个档位, | 冷光亮度,21 个档位分别为['25', '38', '40', '61', '85', '103', '117', '130', '141', '150', '159', '167', '174', '180', '186', '192', '197', '202', '207', '211', '255' ] 暖光时为 0，中性光时与 channel1 数值相同 |
| channel1 | String         | [25,255]，分为 21 个档位  | 暖光亮度，21 个档位同上，冷光时为 0                                                                                                                                                                              |
| type     | Number         | cold,middle,warm          | 冷暖光类型值，App 端使用，用于分别冷暖光类型使用，设备端不处理该字段                                                                                                                                             |
| timers   | Array\<Object> |                           | 定时器对象，每种设备类型的执行动作会不同                                                                                                                                                                         |

#### 控制指令

1. 打开设备

```json
{
  "state": "on"
}
```

2. 设置为冷光

```json
{
  "channel0": "40",
  "channel1": "0",
  "type": "cold"
}
```

3. 设置为暖光

```json
{
  "channel0": "0",
  "channel1": "40",
  "type": "warm"
}
```

4. 设置为中性光

```json
{
  "channel0": "40",
  "channel1": "40",
  "type": "middle"
}
```

5. 设置单次/重复定时器

```json
{
  "timers": [
    {
      "enabled": 1,
      "coolkit_timer_type": "once",
      "at": "2019-05-30T10:57:00.776Z",
      "type": "once",
      "do": {
        "state": "off"
      },
      "mId": "96c0f48e-ce4a-3656-1c1c-2568a2eb1991"
    },
    {
      "enabled": 1,
      "coolkit_timer_type": "repeat",
      "at": "7 15 * * 1,2,3,4,6,0",
      "type": "repeat",
      "do": {
        "state": "off"
      },
      "mId": "22c944b2-5794-8fdc-e8a4-1fc8d05922f3"
    }
  ]
}
```

6. 设置延时定时器

```json
{
  "timers": [
    {
      "enabled": 1,
      "coolkit_timer_type": "delay",
      "at": "2019-08-09T16:37:00.768Z",
      "period": "13530",
      "type": "once",
      "do": {
        "switch": "on"
      },
      "mId": "eb1c1aed-070c-4e5c-f1c6-a78ea4bac09c"
    }
  ]
}
```

备注：

- coolkit_timer_type：timer 的类型，delay 表示延时器，只有单次执行，可以启用/禁用；
- do：需设备执行的动作，冷暖双色调光灯延时可以执行的动作是开关 state，on 开，off 关。

### UIID17 三档摇头智能风扇

#### 参数说明

| 参数名 | 数据类型 | 取值范围             | 参数说明                                                |
| ------ | -------- | -------------------- | ------------------------------------------------------- |
| fan    | String   | on,off               | 风扇的开关，on 打开；off 关闭                           |
| speed  | String   | slow,moderate,fast   | 风速，slow 慢速；moderate 中速；fast 快速               |
| mode   | String   | normal,natural,sleep | 模式，normal 正常模式；natural 自然模式；sleep 睡眠模式 |
| shake  | String   | on,off               | 摆头， on 打开；off 关闭                                |

#### 控制指令

1. 打开风扇

```json
{
  "fan": "on"
}
```

2. 调节风速到快速

```json
{
  "speed": "fast"
}
```

3. 调节模式到睡眠模式

```json
{
  "mode": "sleep"
}
```

4. 打开摆头功能

```json
{
  "shake": "on"
}
```

### UIID18 传感器中心

#### 参数说明

| 参数名      | 数据类型 | 取值范围                | 参数说明                                                    |
| ----------- | -------- | ----------------------- | ----------------------------------------------------------- |
| dusty       | Number   | [1,10]                  | 空气质量，[1,3] 优 ；[4,6] 良 ；[7,10] 差                   |
| noise       | String   | [1,10]                  | 噪音， [1,2] 安静 ；[3,5] 正常；[6,10] 吵闹                 |
| light       | String   | [1,10]                  | 亮度，[1,3] 明亮 ； [4,7] 正常；[8,10] 昏暗                 |
| temperature | String   | [-Infinity,Infinity] | 温度，[-Infinity,15] 冷；[16,28] 舒适； [29,Infinity] 热|
| humidity    | String   | [0,100]                 | 湿度, [0,30] 干燥 ; [31,70] 正常 ;[71,100] 潮湿             |

#### 控制指令

无，均由设备上报。

### UIID19 三档加湿器

#### 参数说明

| 参数名      | 数据类型       | 取值范围 | 参数说明                                        |
| ----------- | -------------- | -------- | ----------------------------------------------- |
| switch      | String         | on,off   | 设备的开关，on 打开；off 关闭                   |
| mode        | String         | normal,  | 模式，normal 正常模式。发开关的时候要带这个字段 |
| state       | Number         | 1,2,3    | 档位，分 1-3 个档位                             |
| water       | Number         | 0,1      | 水位，0 缺水；1 正常                            |
| temperature | Number         | [0,50]   | 当前温度，设备上报，单位摄氏度                  |
| humidity    | Number         | [20,90]  | 当前湿度百分比，设备上报                        |
| timers      | Array\<Object> |          | 定时器对象，每种设备类型的执行动作会不同        |

#### 控制指令

1. 打开设备

```json
{
  "switch": "on"
}
```

2. 调节档位

```json
{
  "switch": "on",
  "state": 1
}
```

3. 设备上报状态

```json
{
  "water": 1,
  "temperature": 31,
  "humidity": 50
}
```

4. 设置单次/重复定时器

```json
{
  "timers": [
    {
      "enabled": 1,
      "coolkit_timer_type": "once",
      "at": "2019-05-30T10:57:00.776Z",
      "type": "once",
      "do": {
        "switch": "off"
      },
      "mId": "96c0f48e-ce4a-3656-1c1c-2568a2eb1991"
    },
    {
      "enabled": 1,
      "coolkit_timer_type": "repeat",
      "at": "7 15 * * 1,2,3,4,6,0",
      "type": "repeat",
      "do": {
        "switch": "off"
      },
      "mId": "22c944b2-5794-8fdc-e8a4-1fc8d05922f3"
    }
  ]
}
```

### UIID22 RGB 五色球泡灯

#### 参数说明

| 参数名   | 数据类型 | 取值范围         | 参数说明                                                                                                 |
| -------- | -------- | ---------------- | -------------------------------------------------------------------------------------------------------- |
| state    | String   | on,off           | 球泡灯灯光的开关，on 打开，off 关闭                                                                      |
| channel0 | String   | [25,255]         | 球泡灯通道 1，表示冷光，取值范围 25-255                                                                  |
| channel1 | String   | [25,255]         | 球泡灯通道 2，表示暖光，取值范围 25-255                                                                  |
| type     | String   | cold,middle,warm | channel0>channel1 时为 cold 冷光；channel0=channel1 时为 middle 中性光；channel0<channel1 时为 warm 暖光 |
| channel2 | String   | [0,255]          | R 值，红色通道范围 0-255                                                                                 |
| channel3 | String   | [0,255]          | G 值，绿色通道范围 0-255                                                                                 |
| channel4 | String   | [0,255]          | B 值，蓝色通道范围 0-255                                                                                 |
| zyx_mode | Number   | [1,6]            | 球泡灯模式/情景，1 白光模式；2 彩光模式；3 晚安情景；4 阅读情景；5 聚会情景；6 休闲情景                  |
| timers   | Array    |                  | 定时器类型，定时：once（单次执行）；repeat（重复执行）；延时：delay（只能单次执行）                      |

#### 控制指令

备注：关灯的情况下只能开灯，不能调节色温、亮度。

1、打开球泡灯

on 开，off 关，如在当前手机本地首次开灯后默认为白光模式（中性光，亮度值 159），非当前手机本地首次开灯则默认为上一次关灯时的灯光状态（如上次关灯时为彩光模式下红色，则再次开灯默认也是彩光模式下红色）

```json
{
  "state": "on"
}
```

2、打开球泡灯的白光模式

初次添加，默认色温档位为中性光（type=middle，channel0=channel1）、亮度值 159，zyx_mode=1 表示白光模式。

```json
{
  "channel0": "159",
  "channel1": "159",
  "channel2": "0",
  "channel3": "0",
  "channel4": "0",
  "zyx_mode": 1,
  "type": "middle"
}
```

3、白光模式下，中性光的亮度调整到 60

```json
{
  "type": "middle",
  "channel0": "60",
  "channel1": "60"
}
```

4、白光模式下，初次调整球泡灯的色温档位为冷光、亮度值默认 159

channel0>channel1 时为 cold 冷光、channel0=channel1 时为 middle 中性光、channel0<channel1 时为 warm 暖光。

```json
{
  "type": "cold",
  "channel0": "159",
  "channel1": "0"
}
```

5、白光模式下，冷光的亮度调整到 85

```json
{
  "type": "cold",
  "channel0": "85",
  "channel1": "0"
}
```

6、白光模式下，初次调整球泡灯的色温档位为暖光、亮度值默认 159

```json
{
  "type": "warm",
  "channel0": "0",
  "channel1": "159"
}
```

7、白光模式下，调整球泡灯的色温档位为冷光

此时亮度值不是默认的 159 而是上次调整完存在本地的 85

```json
{
  "type": "cold",
  "channel0": "85",
  "channel1": "0"
}
```

8、打开球泡灯的彩灯模式

默认显示：红色（channel2 表示 R 值，channel3 表示 G 值，channel4 表示 B 值，红色的 RGB 值为[255,0,0]），同时 channel0、channel1 默认为 0，type=middle 中性光，zyx_mode=2 表示彩光模式

```json
{
  "channel0": "0",
  "channel1": "0",
  "channel2": "255",
  "channel3": "0",
  "channel4": "0",
  "zyx_mode": 2,
  "type": "middle"
}
```

9、调整球泡灯的颜色到蓝色

RGB 值为[0,0,255]即 R 值 channel2=0、G 值 channel3=0、B 值 channel4=255，channel0、channel1 默认为 0，zyx_mode=2 表示彩光模式

```json
{
  "channel0": "0",
  "channel1": "0",
  "channel2": "0",
  "channel3": "0",
  "channel4": "255",
  "zyx_mode": 2
}
```

10、调整球泡灯的情景为晚安

不可编辑，提前预设好的值 RGB 值为[189,118,0]即 R 值 channel2=189、G 值 channel3=118、B 值 channel4=0，channel0、channel1 默认为 0，zyx_mode=3 表示晚安情景，type=middle 中性光

```json
{
  "channel0": "0",
  "channel1": "0",
  "channel2": "189",
  "channel3": "118",
  "channel4": "0",
  "zyx_mode": 3,
  "type": "middle"
}
```

11、调整球泡灯的情景为阅读

不可编辑，提前预设好的值 RGB 值为[255,255,255]即 R 值 channel2=255、G 值 channel3=255、B 值 channel4=255，channel0、channel1 默认为 0，zyx_mode=4 表示阅读情景，type=middle 中性光

```json
{
  "channel0": "0",
  "channel1": "0",
  "channel2": "255",
  "channel3": "255",
  "channel4": "255",
  "zyx_mode": 4,
  "type": "middle"
}
```

12、调整球泡灯的情景为聚会

不可编辑，提前预设好的值 RGB 值为[207,56,3]即 R 值 channel2=207、G 值 channel3=56、B 值 channel4=3，channel0、channel1 默认为 0，zyx_mode=5 表示聚会情景，type=middle 中性光

```json
{
  "channel0": "0",
  "channel1": "0",
  "channel2": "207",
  "channel3": "56",
  "channel4": "3",
  "zyx_mode": 5,
  "type": "middle"
}
```

13、调整球泡灯的情景为休闲

不可编辑，提前预设好的值 RGB 值为[56,85,179]即 R 值 channel2=56、G 值 channel3=85、B 值 channel4=179，channel0、channel1 默认为 0，zyx_mode=6 表示休闲情景，type=middle 中性光

```json
{
  "channel0": "0",
  "channel1": "0",
  "channel2": "56",
  "channel3": "85",
  "channel4": "179",
  "zyx_mode": 6,
  "type": "middle"
}
```

14、单次定时

设置球泡灯在 2022 年 6 月 27 日 11 点 26 分定时打开，单次执行不重复

```json
{
  "timers": [
    {
      "enabled": 1,
      "coolkit_timer_type": "once",
      "at": "2022-06-27T03:26:00.387Z",
      "type": "once",
      "do": {
        "state": "on"
      },
      "mId": "09c41897-605c-2cce-6ab9-7c58b7f3c221"
    }
  ]
}
```

15、延时

设置球泡灯在 2022 年 6 月 27 日 11 点 26 分延时 4 分钟即 11 点 30 分时关闭，单次执行不重复

```json
{
  "timers": [
    {
      "enabled": 1,
      "coolkit_timer_type": "delay",
      "at": "2022-06-27T03:30:00.552Z",
      "period": "4",
      "type": "once",
      "do": {
        "state": "off"
      },
      "mId": "1778f364-ae92-43b6-33d0-9a5ff531e1bc"
    }
  ]
}
```

coolkit_timer_type：timer 的类型，delay 表示延时器，只有单次执行，可以启用/禁用。
do：需设备执行的动作，球泡灯延时可以执行的动作是灯光开关 state，on 开，off 关

### UIID24 GSM/4G 单通道开关

#### 参数说明

| 参数名     | 数据类型       | 取值范围                                         | 参数说明                                                                                                        |
| ---------- | -------------- | ------------------------------------------------ | --------------------------------------------------------------------------------------------------------------- |
| switch     | String         | on,off                                           | 通道的开关，on 打开，off 关闭                                                                                   |
| startup    | String         | on,stay,off                                      | 通电反应设置，on 上电开，stay 上电保持，off 上电                                                                |
| pulse      | String         | on,off                                           | 点动状态开关，on 打开，off 关闭                                                                                 |
| pulseWidth | Number         | [500,3600000]（单位：毫秒，支持设置 500 的整数） | 点动时间长短，取值范围 500-3600000（单位毫秒，即 0.5 秒-3600 秒），仅支持设置取值 500 毫秒（即 0.5 秒）的整数倍 |
| timers     | Array\<Object> |                                                  | 定时器对象，每种设备类型的执行动作会不同                                                                        |

#### 控制指令

1. 打开设备

```json
{
  "switch": "on"
}
```

2. 设置每次操作打开 GSM/4G 单通道开关后需要在随后的 1 秒自动关闭：

```json
{
  "pulse": "on",
  "pulseWidth": 1000
}
```

3. 设置设备断电再来电，打开设备开关

```json
{
  "startup": "on"
}
```

定时器设置见《定时器规则》示例，和单通道插座定时器保持一致（单次、重复定时与延时）。

### UIID25 香薰机

#### 参数说明

| 参数名      | 数据类型 | 取值范围            | 参数说明                                                                             |
| ----------- | -------- | ------------------- | ------------------------------------------------------------------------------------ |
| switch      | String   | on,off              | 总开关，on 打开，off 关闭                                                            |
| state       | Number   | 1,2（默认 1）       | 雾量档位，1 小，2 大，默认小，可记忆                                                 |
| water       | Number   | 0,1（只读）         | 水位，0 缺水，1 正常                                                                 |
| lightswitch | Number   | 0,1                 | 灯光开关，0 关闭，1 打开                                                             |
| lightmode   | Number   | 1,2,3               | 灯光模式，1 七彩灯，2 指定某个颜色，3 夜灯                                           |
| lightRcolor | Number   | [0,255]             | 灯光颜色，R 通道，非负整数，取值范围 0-255                                           |
| lightGcolor | Number   | [0,255]             | 灯光颜色，G 通道，非负整数，取值范围 0-255                                           |
| lightBcolor | Number   | [0,255]             | 灯光颜色，B 通道，非负整数，取值范围 0-255                                           |
| lightbright | Number   | [0,100]（默认 100） | 灯光亮度，取值范围 0-100，调节颜色时默认亮度 100                                     |
| timers      | Array    |                     | 定时器类型，定时：once（单次执行）、repeat（重复执行）； 延时：delay（只能单次执行） |
| sledOnline  | String   | on,off              | 常灭开关，on 打开，off 关闭                                                          |

#### 控制指令

备注：如在夜灯模式下关闭香薰机，再次打开香薰机时，灯光模式会回到夜灯模式前一个灯光模式状态（包括灯光颜色和亮度）。

假如打开香薰机后将灯光模式先调整成七彩灯再调整成夜灯模式后，关闭香薰机再次打开香薰机，香薰机的灯光会回到七彩灯模式；

假如打开香薰机后将灯光模式先调整成指定颜色 [2,19,0] 且灯光亮度为 43 再调整成夜灯模式后，关闭香薰机再次打开香薰机，香薰机的灯光会回到指定颜色 [2,19,0] 模式且灯光亮度为 43。

1. 打开香薰机，on 开，off 关

```json
{
  "switch": "on"
}
```

2. 调整香薰机的雾量档位，1 小，2 大

```json
{
  "state": 1
}
```

3. 打开香薰机上的灯光，0 关，1 开

```json
{
    "lightswitch": 1
}
```

4. 调整香薰机的灯光模式为七彩灯

备注：调试发现模式调整为七彩灯后，会同时发一条指令将灯光亮度调到 100，但是七彩灯模式的 UI 界面上没有灯光亮度的调节入口

第一条指令：

```json
{
  "lightmode": 1
}
```

第二条指令：

```json
{
  "lightbright": 100
}
```

5. 调整香薰机的灯光颜色为指定颜色（RGB：0,3,255）

备注：调试发现模式调整为指定颜色后，会同时将灯光亮度默认先调到 100，再根据需求手动调节

第一条指令：

```json
{
    "lightmode":2
    "lightRcolor":0
    "lightGcolor":3
    "lightBcolor":255
}
```

第二条指令：

```json
{
  "lightbright": 100
}
```

6. 调整香薰机的灯光颜色为夜灯

备注：调试发现模式调整为夜灯后，会同时将灯光亮度默认先调到 100，再根据需求手动调节

第一条指令：

```json
{
  "lightmode": 3
}
```

第二条指令：

```json
{
  "lightbright": 100
}
```

7. 调节香薰机灯光的亮度为 30

```json
{
  "lightbright": 30
}
```

8. 单次定时

设置香薰机在 2019 年 5 月 21 日 14 点 31 分定时打开，单次执行不重复。

```json
{
  "timers": [
    {
      "enabled": 1,
      "coolkit_timer_type": "once",
      "at": "2019-05-21T06:31:00.795Z",
      "type": "once",
      "do": {
        "switch": "on"
      },
      "mId": "7f28b51c-04a5-85f3-1ecf-9530f1164d1a"
    }
  ]
}
```

9. 延时设置

设置香薰机在 2019 年 5 月 21 日 14 点 54 分延时关闭，单次执行不重复

```json
{
  "timers": [
    {
      "enabled": 1,
      "coolkit_timer_type": "delay",
      "at": "2019-05-21T06:54:00.589Z",
      "period": "1",
      "type": "once",
      "do": {
        "switch": "off"
      },
      "mId": "d0129874-1f23-cd8a-77ea-d1356128eeb6"
    }
  ]
}
```

备注：

- coolkit_timer_type：timer 的类型，delay 表示延时器，只有单次执行，可以启用/禁用
- do：需要设备执行的动作，香薰机延时可以执行的动作是总开关 switch，on 开，off 关

10. 指示灯常灭开关设置

打开香薰机指示灯的常灭开关，关闭指示灯

```json
{
  "sledOnline": "on"
}
```

- sledOnline：设备上的常亮指示灯，on 关闭指示灯，off 打开指示灯

### UIID27 GSM/4G 单通道开关包流量

和 UIID1 保持一致。

### UIID28 RFBridge

#### 参数说明

| 参数名      | 数据类型 | 取值范围                                    | 参数说明                                                                                                                       |
| ----------- | -------- | ------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------ |
| remote_type | String   | 1,2,3,4,5,6                                 | 遥控器类型，1 单按键；2 双按键；3 三按键；4 四按键；5 窗帘；6 报警器                                                           |
| cmd         | String   | capture,captureCancel,edit,transmit,trigger | 指令，capture 进入按键学习模式；captureCancel 退出学习模式；edit 编辑通道列表；transmit 触发按键；trigger 来自设备的触发通知。 |
| rfChl       | Number   |                                             | 按钮的序号，添加时需要递增                                                                                                     |

备注：添加 RF 网关设备与添加普通 WiFi 设备没有区别，它通常支持快速配对和兼容配对模式。

设备添加遥控器个数是存在限制的，具体需要检查 设备信息（deviceList 列表 item 说明） 中的 devConfig 配置项。通常只能添加 4 组遥控器，有部分产品型号可以支持 16 组遥控器。

devConfig 参数说明：

此处只描述 UIID28 RFBridge 遥控器个数的配置，例如下面这个示例代表固件版本大于等于 2.7.0 才支持添加 16 组遥控器，如果没有这个参数就代表默认只允许添加 4 组遥控器：

```json
{
  "devConfig": {
    "remoteInfos": [
      {
        "numberOfRemote": 16,
        "fwVersion": "2.7.0"
      }
    ]
  }
}
```

1、APP 添加单个遥控器（未学习的）

请求 设置设备标签接口（/v2/device/tags）

示例：

```shell
curl --location --request POST 'https://as-apia.coolkit.cc/v2/device/tags' \
--header 'X-CK-Nonce: {{nonce}}' \
--header 'Authorization: Bearer {{accessToken}}' \
--header 'Content-Type: application/json' \
--data-raw '{"deviceid":"1000xxxx","type":"merge","tags":{"zyx_info": [{"remote_type":"1","name":"My Remote","buttonName":[{"0":"Button1"}]}]}}'
```

2、APP 添加多通道遥控器（未学习的）

```shell
curl --location --request POST 'https://as-apia.coolkit.cc/v2/device/tags' \
--header 'X-CK-Nonce: {{nonce}}' \
--header 'Authorization: Bearer {{accessToken}}' \
--header 'Content-Type: application/json' \
--data-raw '{"deviceid":"1000xxxx","type":"merge","tags":{"zyx_info": {"remote_type":"2","name":"My Remote","buttonName":[{"1":"Button1"},{"2":"Button2"}]}]}}'
```

3、APP 添加报警器（未学习的）

```shell
curl --location --request POST 'https://as-apia.coolkit.cc/v2/device/tags' \
--header 'X-CK-Nonce: {{nonce}}' \
--header 'Authorization: Bearer {{accessToken}}' \
--header 'Content-Type: application/json' \
--data-raw '{"deviceid":"1000xxxx","type":"merge","tags":{"zyx_info": {"remote_type":"6","name":"My Remote","buttonName":[{"4":"Button1"}]}]}}'
```

4、APP 使设备进入学习按键模式

```json
{
  "action": "update",
  "deviceid": "1000xxxx",
  "apikey": "用户apikey",
  "selfApikey": "用户apikey",
  "params": { "cmd": "capture", "rfChl": 0 },
  "sequence": "1574303626706",
  "userAgent": "app"
}
```

APP 收到服务器消息:

```json
{
  "error": 0,
  "deviceid": "xxx",
  "apikey": "用户apikey",
  "sequence": "1574303626706"
}
```

学习成功后，APP 还会收到一次消息，长连接 params 里面的内容才是最终已经学习过的按钮（rfChl 值用作后续控制使用），tags 只是存名称等等信息，表示添加了某些遥控器。

APP 收到服务器消息:

```json
{
  "action": "update",
  "deviceid": "xxx",
  "apikey": "用户apikey",
  "userAgent": "device",
  "d_seq": 1574303644676,
  "ts": 0,
  "params": {
    "rfList": [
      { "rfChl": 0, "rfVal": "29EA015E04245575C0" },
      { "rfChl": 1, "rfVal": "29A4015E0424557530" },
      { "rfChl": 3, "rfVal": "29AE015E041A557503" }
    ]
  },
  "from": "device"
}
```

使设备退出学习模式：

```json
{
  "action": "update",
  "deviceid": "1000xxxx",
  "apikey": "用户apikey",
  "selfApikey": "用户apikey",
  "params": { "cmd": "captureCancel" },
  "sequence": "1574303626706",
  "userAgent": "app"
}
```

5、APP 更新通道列表

当用户通过 APP 对通道列表进行修改(学习、删除)时，需要将新的列表更新到设备。

APP 发送指令给设备:

```json
{
  "action": "update",
  "deviceid": "1000xxxx",
  "apikey": "用户apikey",
  "selfApikey": "用户apikey",
  "params": {
    "cmd": "edit",
    "rfList": [
      { "rfChl": 0, "rfVal": "29EA015E04245575C0" },
      { "rfChl": 1, "rfVal": "29A4015E0424557530" },
      { "rfChl": 3, "rfVal": "29AE015E041A557503" }
    ]
  },
  "sequence": "1574303626706",
  "userAgent": "app"
}
```

6、APP 发送触发按键指令

```json
{
  "action": "update",
  "deviceid": "xxx",
  "apikey": "用户apikey",
  "selfApikey": "用户apikey",
  "params": { "cmd": "transmit", "rfChl": 1 },
  "sequence": "1574305990342",
  "userAgent": "app"
}
```

7、APP 收到设备的触发通知（报警器）

```json
{
  "action": "update",
  "deviceid": "xxx",
  "apikey": "用户apikey",
  "userAgent": "device",
  "ts": 0,
  "params": { "cmd": "trigger", "rfTrig0": "2020-09-21T02:34:14.000Z" },
  "from": "device"
}
```

### UIID29 GSM/4G 双通道开关插座

和 UIID2 保持一致。

### UIID31 GSM/4G 四通道开关插座

和 UIID4 保持一致。

### UIID32 功率检测插座过载告警

基本功能和 UIID5 保持一致，UIID32 增加过载保护功能。

设置过载保护自动关闭设备，例如：最小实时功率 200W，最大实时功率 1500W，电流 20A，电压 240V：

```json
{
  "alarmType": "pcv",
  "alarmVValue": [-1, 240],
  "alarmCValue": [-1, 20],
  "alarmPValue": [200, 1500]
}
```

字段说明：

1. alarmType ： String 类型，过载保护设置的类型，必选，取值范围为 "p" 即功率保护、 "v" 即电压保护 、 "c" 即电流保护三者的任意组合，可包含其中一种、其中两种、其中三种，具体取值取决于其他三个字段的设置。例如：若用户只设置了电流过载保护，而电压和功率无设置（即为默认值），则 alarmType 的取值为 "c" ；若用户设置了功率过载保护和电压过载保护，而电流过载保护无设置（即为默认值），则 alarmType 的取值为 "pv" ；若用户设置了功率过载保护、电流过载保护以及电压过载保护，则 alarmType 的取值为 "pcv" 。
2. alarmVValue ： Array 类型，必选，内部元素为 number 类型，表示电压保护的设置值，单位为 V ， 其中第一个元素为电压保护的阈值下限，第二个元素为电压保护的阈值上限。
3. alarmCValue ： Array 类型，必选，内部元素为 number 类型，表示电流保护的设置值，单位为 A ，其中第一个元素为电流保护的阈值下限，第二个元素为电流保护的阈值上限 。
4. alarmPValue ： Array 类型，必选，内部元素为 number 类型，表示功率保护的设置值，单位为 W ，其中第一个元素为功率保护的阈值下限。

注意事项：

1. 除了阈值上下限都未设置的情况，电压保护、电流保护、功率保护的阈值上限必须大于阈值下限。
2. 默认情况下，电流保护、电压保护、功率保护均未设置，其默认阈值下限、阈值上限都为 -1 。
3. 可以只设置阈值上限或阈值下限，而未设置的上限或下限的值为 -1 。
4. 电流电压功率的阈值上下限取值范围如下：
   - 电流：阈值上限取值范围为 [0.10 , 15.00] ，无阈值下限。
   - 电压：阈值上限取值范围为 [0.10 , 300.00] ，无阈值下限。
   - 功率：阈值上限取值范围为 [10.00 , 3300.00] ，阈值下限取值范围为 [0.10 , 3300.00] 。
5. 对于上述所有阈值保护的设置值，设备端均支持至多 2 位小数。

### UIID33 RGB 灯带控制器

#### 参数说明

| 参数名     | 数据类型 | 取值范围 | 参数说明                                                                            |
| ---------- | -------- | -------- | ----------------------------------------------------------------------------------- |
| switch     | String   | on,off   | 灯带灯光的开关，on 打开，off 关闭                                                   |
| light_type | Number   | 1,2      | 灯带模式，1 彩光模式、2 白光模式                                                    |
| bright     | Number   | [10,100] | 灯光亮度，范围 10-100，值越大越亮                                                   |
| colorR     | Number   | [0,255]  | R 值，红色通道范围 0-255                                                            |
| colorG     | Number   | [0,255]  | G 值，绿色通道范围 0-255                                                            |
| colorB     | Number   | [0,255]  | B 值，蓝色通道范围 0-255                                                            |
| mode       | Number   | [1,3]    | 灯带可选的模式，总共 3 个模式：1 静态，2 渐变，3 跳变                               |
| speed      | Number   | [0,100]  | 灯光颜色模式下的变化速度，范围 0-100，值越大速度越快                                |
| timers     | Array    |          | 定时器类型，定时：once（单次执行）；repeat（重复执行）；延时：delay（只能单次执行） |

#### 控制指令

**备注：关灯的情况下只能开灯，不能通过调节色温、亮度来开灯。**

1. 打开灯带

```json
{
  "switch":"on" // on 开，off 关
}
```

在色盘上选中一个颜色RGB值[255,63,0]，light_type为 1 表示彩光，此时默认模式mode 1 灯光呈静态显示，如果拖拽调节色温进度条则会退出色盘颜色选择状态

```json
{
        "mode":1,
        "colorR":255,
        "colorB":63,
        "colorG":0,
        "light_type":1
}
```

2. 调节亮度

调节灯带的亮度到55，light_type在1 彩光 或者2 白光的状态下都可以调节亮度，亮度取值范围是10-100，值越大越亮，此时默认mode 1 静态灯光模式

```json
{
  "mode":1,
  "bright":55
}
```

3. 调节色温

调节灯带的色温到暖光，用 RGB 通道值来表示色温值，RGB 值对应色温 142 阶梯（详见列表），light_type 为 2 表示白光可以调节色温（冷暖），此时默认 mode 1 静态灯光模式

```json
{
  "mode": 1,
  "colorR": 255,
  "colorB": 11,
  "colorG": 141,
  "light_type": 2
}
```

色温值列表如下

```
["#d6e1ff", "#d9e1ff", "#d7e2ff", "#dae2ff", "#d8e3ff", "#dbe2ff", "#d9e3ff", "#dce3ff", "#dae4ff", "#dde4ff", "#dce5ff", "#dfe5ff", "#dde6ff", "#e0e6ff", "#dee6ff", "#e1e7ff", "#e0e7ff", "#e3e8ff", "#e1e8ff", "#e4e9ff", "#e3e9ff", "#e5e9ff", "#e4eaff", "#e7eaff", "#e6ebff", "#e9ecff", "#e7ecff", "#eaedff", "#e9edff", "#eceeff", "#ebeeff", "#eeefff", "#edefff", "#eff0ff", "#eff0ff", "#f1f1ff", "#f0f1ff", "#f3f3ff", "#f3f2ff", "#f5f4ff", "#f5f3ff", "#f7f5ff", "#f7f5ff", "#faf7ff", "#f9f6ff", "#fcf8ff", "#fcf7ff", "#fefaff", "#fef9ff", "#fff9fd", "#fff9fd", "#fff9fb", "#fff8fb", "#fff8f8", "#fff6f8", "#fff7f5", "#fff5f5", "#fff6f3", "#fff4f2", "#fff5f0", "#fff3ef", "#fff4ed", "#fff2ec", "#fff3ea", "#fff0e9", "#fff1e7", "#ffefe6", "#fff0e4", "#ffeee3", "#ffefe1", "#ffece0", "#ffeede", "#ffebdc", "#ffedda", "#ffe9d9", "#ffebd7", "#ffe8d5", "#ffead3", "#ffe6d2", "#ffe8d0", "#ffe4ce", "#ffe7cc", "#ffe3ca", "#ffe5c8", "#ffe1c6", "#ffe4c4", "#ffdfc2", "#ffe2c0", "#ffddbe", "#ffe1bc", "#ffdbba", "#ffdfb8", "#ffd9b6", "#ffddb4", "#ffd7b1", "#ffdbaf", "#ffd5ad", "#ffd9ab", "#ffd3a8", "#ffd7a6", "#ffd1a3", "#ffd5a1", "#ffce9f", "#ffd39c", "#ffcc99", "#ffd097", "#ffc994", "#ffce92", "#ffc78f", "#ffcb8d", "#ffc489", "#ffc987", "#ffc184", "#ffc682", "#ffbe7e", "#ffc37c", "#ffbb78", "#ffc076", "#ffb872", "#ffbd6f", "#ffb46b", "#ffb969", "#ffb165", "#ffb662", "#ffad5e", "#ffb25b", "#ffa957", "#ffae54", "#ffa54f", "#ffaa4d", "#ffa148", "#ffa645", "#ff9d3f", "#ffa23c", "#ff9836", "#ff9d33", "#ff932c", "#ff9829", "#ff8e21", "#ff921d", "#ff8912", "#ff8d0b"]
```

4. 设置灯带颜色模式

选择灯带的颜色模式为"渐变"模式，速度默认 50，mode 1 静态模式，2 渐变模式，3 跳变模式

```json
{
  "mode": 2,
  "speed": 50
}
```

灯带颜色模式在"渐变"模式下时，将速度调到 100，范围 0-100，值越大速度越快

```json
{
  "mode": 2,
  "speed": 100
}
```

5. 单次定时

设置灯带在 2019 年 7 月 2 日 15 点 32 分定时打开，单次执行不重复

```json
{
  "timers":[
            {
                "enabled":1,
                "coolkit_timer_type":"once",
                "at":"2019-07-02T07:32:00.689Z",
                "type":"once",
                "do":{
                    "switch":"on"
                },
                "mId":"a824f44b-af76-ff8d-6fcc-6d897d93810f"
            }
        ]
}
```

备注：

- coolkit_timer_type：timer 的类型，delay 表示延时器，只有单次执行，可以启用/禁用
- do：需设备执行的动作，灯带延时可以执行的动作是灯光开关 switch，on 开，off 关

设置灯带在 2019 年 7 月 2 日 15 点 32 分延时 8 分钟即 15 点 40 分时关闭，单次执行不重复

6. 延时

```json
{
  "timers":[
            {
                "enabled":1,
                "coolkit_timer_type":"delay",
                "at":"2019-07-02T07:40:00.057Z",
                "period":"8",
                "type":"once",
                "do":{
                    "switch":"off"
                },
                "mId":"2b02614d-e5fd-ec3b-ad44-9637b06511a4"
            }
        ]
}
```

### UIID34 智能风扇灯

#### 参数说明

| 参数名   | 数据类型 | 取值范围 | 参数说明                                                                                                                                                                                                                                                                                 |
| -------- | -------- | -------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| switches | Array    |          | 所有通道的开关状态                                                                                                                                                                                                                                                                       |
| switch   | String   | on,off   | 通道的开关，on 打开，off 关闭                                                                                                                                                                                                                                                            |
| outlet   | Number   | [0,3]    | 取值范围 0-3，分别表示通道 1-4，不能重复。开灯：打开通道 1；关灯：关闭通道 1;风扇低速档：打开通道 2，关闭通道 3,4；风扇中速档：打开通道 2,3，关闭通道 4；风扇高速档：打开通道 2,4，关闭通道 3；关闭风扇：关闭通道 2；定时开：打开通道 1（仅支持开灯）；定时关：关闭通道 1（仅支持关灯） |
| timers   | Array    |          | 定时器类型，定时：once（单次执行）；repeat（重复执行）；延时：delay（只能单次执行）                                                                                                                                                                                                      |

#### 控制指令

1. 打开风扇灯的灯，打开通道 1

```json
{
  "switches": [
    {
      "switch": "on",
      "outlet": 0
    },
    {
      "outlet": 1,
      "switch": "off"
    },
    {
      "outlet": 2,
      "switch": "off"
    },
    {
      "outlet": 3,
      "switch": "off"
    }
  ]
}
```

2. 关闭风扇灯的灯，关闭通道 1

```json
{
  "switches": [
    {
      "switch": "off",
      "outlet": 0
    },
    {
      "outlet": 1,
      "switch": "off"
    },
    {
      "outlet": 2,
      "switch": "off"
    },
    {
      "outlet": 3,
      "switch": "off"
    }
  ]
}
```

3. 调整风扇灯的风扇档位到低速挡，打开通道 2，关闭通道 3,4，调整风扇档位即打开风扇

```json
{
  "switches": [
    {
      "switch": "off",
      "outlet": 0
    },
    {
      "outlet": 1,
      "switch": "on"
    },
    {
      "outlet": 2,
      "switch": "off"
    },
    {
      "outlet": 3,
      "switch": "off"
    }
  ]
}
```

4. 调整风扇灯的风扇档位到中速挡，打开通道 2,3，关闭通道 4，调整风扇档位即打开风扇

```json
{
  "switches": [
    {
      "switch": "off",
      "outlet": 0
    },
    {
      "outlet": 1,
      "switch": "on"
    },
    {
      "outlet": 2,
      "switch": "on"
    },
    {
      "outlet": 3,
      "switch": "off"
    }
  ]
}
```

5. 调整风扇灯的风扇档位到高速挡，打开通道 2,4，关闭通道 3，调整风扇档位即打开风扇

```json
{
  "switches": [
    {
      "switch": "off",
      "outlet": 0
    },
    {
      "outlet": 1,
      "switch": "on"
    },
    {
      "outlet": 2,
      "switch": "off"
    },
    {
      "outlet": 3,
      "switch": "on"
    }
  ]
}
```

6. 关闭风扇灯的风扇，关闭通道 2

```json
{
  "switches": [
    {
      "switch": "off",
      "outlet": 0
    },
    {
      "outlet": 1,
      "switch": "off"
    },
    {
      "outlet": 2,
      "switch": "off"
    },
    {
      "outlet": 3,
      "switch": "on"
    }
  ]
}
```

7. 单次定时

设置在 2019 年 5 月 31 日 19 点 10 分定时打开风扇灯的灯，打开通道 1，单次执行不重复

```json
{
  "timers": [
    {
      "enabled": 1,
      "coolkit_timer_type": "once",
      "at": "2019-05-31T11:10:00.297Z",
      "type": "once",
      "do": {
        "switch": "on",
        "outlet": 0
      },
      "mId": "86cbee4b-a824-0709-cdef-c0a632daf49e"
    }
  ]
}
```

备注：

- coolkit_timer_type：timer 的类型，定时器中 once 表示单次执行，repeat 表示重复执行，可以启用/禁用
- do：需设备执行的动作，风扇灯定时可执行的动作是灯的开关 switch，on 开，off 关

8. 延时设置

设置在 2019 年 5 月 31 日 19 点 11 分延时关闭风扇灯的灯，关闭通道 1，单次执行不重复

```json
{
  "timers": [
    {
      "enabled": 1,
      "coolkit_timer_type": "delay",
      "at": "2019-05-31T11:11:00.856Z",
      "period": "1",
      "type": "once",
      "do": {
        "switch": "off",
        "outlet": 0
      },
      "mId": "c8194956-97c3-79bb-5510-00e0a89b6f68"
    }
  ]
}
```

### UIID36 单路调光开关

#### 参数说明

| 参数名     | 数据类型 | 取值范围 | 参数说明                                                                            |
| ---------- | -------- | -------- | ----------------------------------------------------------------------------------- |
| switch     | String   | on,off   | 单路调光开关灯光的开关，on 打开，off 关闭                                           |
| bright     | Number   | 10,100   | 单路调光开关灯光亮度值的调整，取值范围 10-100，值越大越亮                           |
| sledOnline | String   | on,off   | 常灭开关，on 打开，off 关闭                                                         |
| timers     | Array    |          | 定时器类型，定时：once（单次执行）；repeat（重复执行）；延时：delay（只能单次执行） |

#### 控制指令

备注：关灯的情况下只能开灯，不能调节色温、亮度。

1. 打开单路调光开关，on 开，off 关

```json
{
  "switch": "on"
}
```

2. 调整单路调光开关的亮度值到 57，取值范围 10-100

```json
{
  "bright": 57
}
```

3. 设置单路调光开关的常灭开关为关闭，on 开，off 关

```json
{
  "sledOnline": "off"
}
```

4. 设置单路调光开关在 2019 年 6 月 18 日 12 点 06 分定时打开，单次执行不重复

```json
{
  "timers": [
    {
      "enabled": 1,
      "coolkit_timer_type": "once",
      "at": "2019-06-18T04:06:00.102Z",
      "type": "once",
      "do": {
        "switch": "on"
      },
      "mId": "56aa6c9e-5bcc-6e4a-2333-f6f2f16808ac"
    }
  ]
}
```

备注：

- coolkit_timer_type：timer 的类型，定时器中 once 表示单次执行，repeat 表示重复执行，可以启用/禁用
- do：需设备执行的动作，单路调光开关定时可执行的动作是灯的开关 switch，on 开，off 关

5. 设置单路调光开关在 2019 年 6 月 18 日 12 点 06 分延时 5 分钟即 12 点 11 分时关闭，单次执行不重复

```json
{
  "timers": [
    {
      "enabled": 1,
      "coolkit_timer_type": "delay",
      "at": "2019-06-18T04:11:00.268Z",
      "period": "5",
      "type": "once",
      "do": {
        "switch": "off"
      },
      "mId": "df96f3d4-0729-135d-2fe9-6b0bfce065eb"
    }
  ]
}
```

### UIID52 调光调色温吸顶灯

#### 参数说明

| 参数名   | 数据类型 | 取值范围  | 参数说明                                                                            |
| -------- | -------- | --------- | ----------------------------------------------------------------------------------- |
| state    | String   | on,off    | 吸顶灯灯光的开关，on 打开，off 关闭                                                 |
| channel0 | String   | [10,255]  | 吸顶灯灯光亮度值的调整，取值范围 10-255，10 为白光，255 为黄光                      |
| channel1 | String   | [0,255]   | 吸顶灯灯光色温值的调整，取值范围 0-255，值越大越暖                                  |
| timers   | Array    |           | 定时器类型，定时：once（单次执行）；repeat（重复执行）；延时：delay（只能单次执行） |
| timeZone |          | [-12,+14] | -代表西时区，+代表东时区                                                            |

#### 控制指令

备注：关灯的情况下只能开灯，不能调节色温、亮度；

如需要调整吸顶灯为小夜灯，将吸顶灯亮度值 channel0 调整到 10，同时将吸顶灯色温值 channel1 调整到 255。

1. 打开吸顶灯，on 开，off 关

```json
{
  "state": "on"
}
```

2. 调整吸顶灯的亮度值到 132，取值范围 10-255

```json
{
  "channel0": "132"
}
```

3. 调整吸顶灯的色温值到 57，取值范围 0-255

```json
{
  "channel1": "57"
}
```

4. 调整吸顶灯到小夜灯

```json
{
  "channel0": "10",
  "channel1": "255"
}
```

5. 设置吸顶灯在 2019 年 5 月 29 日 17 点 08 分定时打开，单次执行不重复

```json
{
"timers":[
            {
                "enabled":1,
                "coolkit_timer_type":"once",
                "at":"2019-05-29T09:08:00.315Z",
                "type":"once",
                "do":{
                    "state":"on"
                },
                "mId":"91959d3b-5885-718d-13c5-e69cd48de862"
            }
        ]
```

备注：

- coolkit_timer_type：timer 的类型，定时器中 once 表示单次执行，repeat 表示重复执行，可以启用/禁用
- do：需设备执行的动作，吸顶灯定时可执行的动作是灯光开关 switch，on 开，off 关

6. 设置吸顶灯在 2019 年 5 月 29 日 17 点 10 分延时 6 分钟即 17 点 16 分时关闭，单次执行不重复

```json
{
"timers":[
            {
                "enabled":1,
                "coolkit_timer_type":"delay",
                "at":"2019-05-29T09:16:00.384Z",
                "period":"1",
                "type":"once",
                "do":{
                    "state":"off"
                },
                "mId":"e4777ab0-a74e-ed60-aeac-1ea23b112069"
            }
        ]
```

### UIID57 单色球泡灯

#### 参数说明

| 参数名   | 数据类型 | 取值范围     | 参数说明                                                                            |
| -------- | -------- | ------------ | ----------------------------------------------------------------------------------- |
| state    | String   | on,off       | 单色球泡灯灯光的开关，on 打开，off 关闭                                             |
| channel0 | String   | ["25","255"] | 单色球泡灯灯光亮度值的调整，取值范围 25-255，值越大越亮                             |
| timers   | Array    |              | 定时器类型，定时：once（单次执行）；repeat（重复执行）；延时：delay（只能单次执行） |

#### 控制指令

备注：关灯的情况下只能开灯，不能调节色温、亮度。

1. 打开单色球泡灯，on 开，off 关

```json

{
        "state":"on"
     }
```
2. 调整单色球泡灯的亮度值到87，取值范围25-255

```json
{
        "channel0":"132"
}
 ```
3. 设置单色球泡灯在2019年6月14日17点45分定时打开，单次执行不重复

```json
{
"timers":[
            {
                "enabled":1,
                "coolkit_timer_type":"once",
                "at":"2019-06-14T09:45:00.495Z",
                "type":"once",
                "do":{
                    "state":"on"
                },
                "mId":"9be975c2-353f-3fbb-0f92-8a5cb0824389"
            }
        ]
}
```

备注：

- coolkit_timer_type：timer 的类型，定时器中 once 表示单次执行，repeat 表示重复执行，可以启用/禁用
- do：需设备执行的动作，单色球泡灯定时可执行的动作是灯光开关 switch，on 开，off 关

4. 设置单色球泡灯在 2019 年 6 月 14 日 17 点 45 分延时 5 分钟即 17 点 50 分时关闭，单次执行不重复

```json
{
"timers":[
            {
                "enabled":1,
                "coolkit_timer_type":"delay",
                "at":"2019-06-14T09:50:00.959Z",
                "period":"5",
                "type":"once",
                "do":{
                    "state":"off"
                },
                "mId":"0b145b7c-a7f8-c98a-825b-b8586f335899"
            }
        ]
}
```

### UIID59 律动灯带

#### 参数说明

| 参数名     | 数据类型 | 取值范围 | 参数说明                                                                                                                                                                                |
| ---------- | -------- | -------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| switch     | String   | on,off   | 灯带灯光的开关，on 打开，off 关闭                                                                                                                                                       |
| light_type | Number   | 1,2      | 灯带模式，1 彩光模式（色盘）、2 白光模式（色温）                                                                                                                                        |
| bright     | Number   | [1,100]  | 灯光亮度，范围 1-100，值越大越亮                                                                                                                                                        |
| colorR     | Number   | [0,255]  | R 值，红色通道范围 0-255                                                                                                                                                                |
| colorG     | Number   | [0,255]  | G 值，绿色通道范围 0-255                                                                                                                                                                |
| colorB     | Number   | [0,255]  | B 值，蓝色通道范围 0-255                                                                                                                                                                |
| mode       | Number   | [1,12]   | 灯带可选的模式，总共 12 个模式：1 七彩（普通），2 七彩渐变，3 七彩跳变，4 DIY 渐变，5 DIY 流光，6 DIY 跳变，7 DIY 频闪，8 RGB 渐变，9 RGB 流光，10 RGB 跳变，11 RGB 频闪，12 音乐可视化 |
| speed      | Number   | [1,100]  | 灯带在不同颜色之间的变化快慢速度，取值范围 1-100，值越大速度越快                                                                                                                        |
| sensitive  | Number   | [1,10]   | 灯带在音乐可视化模式下灯光变化的灵敏度，取值范围 1-10，值越大灵敏度越高                                                                                                                 |
| timers     | Array    |          | 定时器类型，定时：once（单次执行）；repeat（重复执行）；延时：delay（只能单次执行）                                                                                                     |
| timeZone   | Number   | [-12,12] | 时区，App 启动时会将手机的时区发送至设备（仅限 aithinker 品牌的 LumiDock 和 LumiCharge3 两个型号）                                                                                      |

#### 控制指令

备注：关灯的情况下只能开灯，不能通过调节色温、亮度来开灯。

1. 打开灯带，on 开，off 关

```json
{
  "switch": "on"
}
```

2. 在色盘上选中一个颜色 RGB 值[255,16,0]，light_type 为 1 表示彩光，此时默认 mode 1 七彩模式，如果拖拽调节色温进度条则会退出色盘颜色选择状态

```json
{
  "mode": 1,
  "colorR": 255,
  "colorB": 16,
  "colorG": 0,
  "light_type": 1
}
```

3. 调节灯带的亮度到 53，light_type 在 1 彩光   或者 2 白光的状态下都可以调节亮度，亮度取值范围是 1-100，值越大越亮，此时默认 mode 1 七彩模式

```json
{
  "mode": 1,
  "bright": 53
}
```

4. 调节灯带的色温到暖光，用 RGB 通道值来表示色温值，RGB 值对应色温 142 阶梯（详见列表），light_type 为 2 表示白光可以调节色温（冷暖），此时默认 mode 1 七彩模式

```json
{
  "mode": 1,
  "colorR": 255,
  "colorB": 11,
  "colorG": 141,
  "light_type": 2
}
```

色温值列表如下

```
["#d6e1ff", "#d9e1ff", "#d7e2ff", "#dae2ff", "#d8e3ff", "#dbe2ff", "#d9e3ff", "#dce3ff", "#dae4ff", "#dde4ff", "#dce5ff", "#dfe5ff", "#dde6ff", "#e0e6ff", "#dee6ff", "#e1e7ff", "#e0e7ff", "#e3e8ff", "#e1e8ff", "#e4e9ff", "#e3e9ff", "#e5e9ff", "#e4eaff", "#e7eaff", "#e6ebff", "#e9ecff", "#e7ecff", "#eaedff", "#e9edff", "#eceeff", "#ebeeff", "#eeefff", "#edefff", "#eff0ff", "#eff0ff", "#f1f1ff", "#f0f1ff", "#f3f3ff", "#f3f2ff", "#f5f4ff", "#f5f3ff", "#f7f5ff", "#f7f5ff", "#faf7ff", "#f9f6ff", "#fcf8ff", "#fcf7ff", "#fefaff", "#fef9ff", "#fff9fd", "#fff9fd", "#fff9fb", "#fff8fb", "#fff8f8", "#fff6f8", "#fff7f5", "#fff5f5", "#fff6f3", "#fff4f2", "#fff5f0", "#fff3ef", "#fff4ed", "#fff2ec", "#fff3ea", "#fff0e9", "#fff1e7", "#ffefe6", "#fff0e4", "#ffeee3", "#ffefe1", "#ffece0", "#ffeede", "#ffebdc", "#ffedda", "#ffe9d9", "#ffebd7", "#ffe8d5", "#ffead3", "#ffe6d2", "#ffe8d0", "#ffe4ce", "#ffe7cc", "#ffe3ca", "#ffe5c8", "#ffe1c6", "#ffe4c4", "#ffdfc2", "#ffe2c0", "#ffddbe", "#ffe1bc", "#ffdbba", "#ffdfb8", "#ffd9b6", "#ffddb4", "#ffd7b1", "#ffdbaf", "#ffd5ad", "#ffd9ab", "#ffd3a8", "#ffd7a6", "#ffd1a3", "#ffd5a1", "#ffce9f", "#ffd39c", "#ffcc99", "#ffd097", "#ffc994", "#ffce92", "#ffc78f", "#ffcb8d", "#ffc489", "#ffc987", "#ffc184", "#ffc682", "#ffbe7e", "#ffc37c", "#ffbb78", "#ffc076", "#ffb872", "#ffbd6f", "#ffb46b", "#ffb969", "#ffb165", "#ffb662", "#ffad5e", "#ffb25b", "#ffa957", "#ffae54", "#ffa54f", "#ffaa4d", "#ffa148", "#ffa645", "#ff9d3f", "#ffa23c", "#ff9836", "#ff9d33", "#ff932c", "#ff9829", "#ff8e21", "#ff921d", "#ff8912", "#ff8d0b"]

```

5. 选择灯带的"七彩"模式，mode 1，模式默认为 1

mode 取值范围 1-12，1 七彩，2 七彩渐变，3 七彩跳变，4 DIY 渐变，5 DIY 流光，6 DIY 跳变，7 DIY 频闪，8 RGB 渐变，9 RGB 流光，10 RGB 跳变，11 RGB 频闪，12 音乐可视化，选择不同的模式发送不同的 mode 值即可

```json
{
  "mode": 1,
  "switch": "on"
}
```

6.  选择灯带的"七彩渐变"模式，mode 2

```json
{
  "mode": 2,
  "switch": "on"
}
```

7. 选择灯带的"七彩跳变"模式，mode 3

```json
{
  "mode": 3,
  "switch": "on"
}
```

8. 选择灯带"DIY 渐变"模式，mode 4

```json
{
  "mode": 4,
  "switch": "on"
}
```

长按"DIY 渐变"按钮进入编辑模式，调节灯光在不同颜色之间的变化快慢速度到 67，speed 速度取值范围 1-100，值越大速度越快

```json
{
  "speed": 67,
  "mode": 4
}
```

DIY 渐变模式编辑状态下，选择红色渐变，RGB 值[255,0,0]，mode 4 DIY 渐变模式，light_type 1 彩光

```json
{
  "mode": 4,
  "colorR": 255,
  "colorG": 0,
  "colorB": 0,
  "light_type": 1,
  "switch": "on"
}
```

9. 选择灯带"DIY 流光"模式，mode 5

```json
{
  "mode": 5,
  "switch": "on"
}
```

长按"DIY 流光"按钮进入编辑模式，调节灯光在不同颜色之间的变化快慢速度到 25，speed 速度取值范围 1-100，值越大速度越快

```json
{
  "speed": 25,
  "mode": 5
}
```

DIY 流光模式编辑状态下，在色盘选择 RGB 值[28,44,255]的流光颜色，mode 5 DIY 流光模式，light_type 1 彩光

```json
{
  "mode": 5,
  "colorR": 28,
  "colorG": 44,
  "colorB": 255,
  "light_type": 1,
  "switch": "on"
}
```

10. 选择灯带"DIY 跳变"模式，mode 6

```json
{
  "mode": 6,
  "switch": "on"
}
```

长按"DIY  跳变"按钮进入编辑模式，调节灯光在不同颜色之间的变化快慢速度到 100，speed 速度取值范围 1-100，值越大速度越快

```json
{
  "speed": 100,
  "mode": 6
}
```

DIY  跳变模式编辑状态下，在色盘选择 RGB 值[255,0,230]的跳变颜色，mode 6 DIY 跳变模式，light_type 1 彩光

```json
{
  "mode": 6,
  "colorR": 255,
  "colorG": 0,
  "colorB": 230,
  "light_type": 1,
  "switch": "on"
}
```

11. 选择灯带"DIY 频闪"模式，mode 7

```json
{
  "mode": 7,
  "switch": "on"
}
```

长按"DIY  频闪"按钮进入编辑模式，调节灯光在不同颜色之间的变化快慢速度到 1，speed 速度取值范围 1-100，值越大速度越快

```json
{
  "speed": 1,
  "mode": 6
}
```

DIY 频闪模式编辑状态下，在色盘选择 RGB 值[255,136,0]的频闪颜色，mode 7 DIY 频闪模式，light_type 1 彩光

```json
{
  "mode": 7,
  "colorR": 255,
  "colorG": 136,
  "colorB": 0,
  "light_type": 1,
  "switch": "on"
}
```

12. 选择灯带的"RGB 渐变"模式，mode 8

```json
{
  "mode": 8,
  "switch": "on"
}
```

13. 选择灯带的"RGB 流光"模式，mode 9

```json
{
  "mode": 9,
  "switch": "on"
}
```

14. 选择灯带的"RGB  跳变"模式，mode 10

```json
{
  "mode": 10,
  "switch": "on"
}
```

15. 选择灯带的"RGB  频闪"模式，mode 11

```json
{
  "mode": 11,
  "switch": "on"
}
```

16. 选择灯带"音乐可视化"模式，mode 12

```json
{
  "mode": 12,
  "switch": "on"
}
```

长按"音乐可视化"按钮进入编辑模式，使用设备控制器收听正在播放的音乐，根据音乐调节灯光的颜色和亮度变化快慢速度到 47，speed 速度取值范围 1-100，值越大速度越快

```json
{
  "speed": 47,
  "mode": 6
}
```

"音乐可视化"模式编辑状态下，调节颜色转换程度到 10，sensitive 灵敏度 取值范围 1-10，值越大颜色转换越快

```json
{
  "mode": 12,
  "sensitive": 10
}
```

17. 设置灯带在 2019 年 7 月 2 日 12 点 15 分定时打开，单次执行不重复

```json
{
  "timers": [
    {
      "enabled": 1,
      "coolkit_timer_type": "once",
      "at": "2019-07-02T04:15:00.278Z",
      "type": "once",
      "do": {
        "switch": "on"
      },
      "mId": "4d5fbdaf-d1c3-caf1-1b34-7c5f26dbdf0c"
    }
  ]
}
```

备注：

- coolkit_timer_type：timer 的类型，定时器中 once 表示单次执行，repeat 表示重复执行，可以启用/禁用
- do：需设备执行的动作，灯带定时可执行的动作是灯光开关 switch，on 开，off 关

18. 设置灯带在 2019 年 7 月 2 日 12 点 15 分延时 6 分钟即 12 点 21 分时关闭，单次执行不重复

```json
{
  "timers": [
    {
      "enabled": 1,
      "coolkit_timer_type": "delay",
      "at": "2019-07-02T04:21:00.934Z",
      "period": "6",
      "type": "once",
      "do": {
        "switch": "off"
      },
      "mId": "5e91ffd7-716f-21c3-8458-6931c442b88a"
    }
  ]
}
```

### UIID66 Zigbee 网关

子设备管理流程此处不列出，如需完整文档请联系技术支持，未付费的开发者无法获取文档。

#### 参数说明

<div class="table-center">

| 参数名        | 数据类型       | 取值范围    | 参数说明                                                                                              |
| ------------- | -------------- | ----------- | ----------------------------------------------------------------------------------------------------- |
| battery       | Number         | [0,100]     | 电池电量                                                                                              |
| trigTime      | String         |             | 最后上报状态的 13 位时间戳，精确到毫秒。设备需要保证时间的准确性，服务端和 APP 历史记录根据该值存储。 |
| smoke         | Number         | [0,1]       | 检测到有烟或无烟状态。0 无烟， 1 有烟                                                                 |
| motion        | Number         | [0,1]       | 检测有人或无人状态。0 无人，1 有人。                                                                  |
| lock          | Number         | [0,1]       | 检测到开门或者关门。0 关门，1 开门。                                                                  |
| water         | Number         | [0,1]       | 检测到有水或者无水。0 无水，1 水浸。                                                                  |
| key           | Number         | [0,2]       | 代表无线按键的按键触发，0 单击， 1 双击 ，2 长按。                                                    |
| switches      | Array\<Object> | [1-4]       | 所有通道的开关状态的集合，元素个数范围[1-4]                                                           |
| brightness    | Number         | [1-100]     | 亮度，取值范围表示为亮度百分比                                                                        |
| rgbBrightness | Number         | [1-100]     | 五色灯彩光模式下的亮度百分比                                                                          |
| cctBrightness | Number         | [1-100]     | 五色灯白光模式下的亮度百分比                                                                          |
| colorTemp     | Number         | [1-100]     | 色温,取值范围表示为子设备可支持的色温范围的百分比，（0：暖黄最值；100：白光最值）                     |
| hue           | Number         | [0-359]     | 色相，采用标准色相环，3 点钟方向为 0（红），逆时针按 1° 递增                                          |
| saturation    | Number         | [1-100]     | 色彩饱和度,取值范围表示饱和度百分比                                                                   |
| colorMode     | Number         | "cct","rgb" | 目标色彩模式，cct 表示为白光模式，rgb 表示为彩光模式                                                  |

</div>

#### UIID1000 Zigbee 无线按键

```json
{
  "key": 0, // 0 单击、 1 双击  2 长按
  "battery": 50, //0-100代表电量分比
  "trigTime": "1234567890123" //13位字符串 时间戳，和服务器时间一致
}
```

参数说明：

- key：按键触发事件，Number 类型。取值范围[0,2]，0 单击，1 双击， 2 ⻓按
- battery：电池电量百分⽐，Number 类型。取值范围[0,100]
- trigTime：触发时间，String 类型。取值为：最后上报状态的 13 位时间戳，精确到毫秒

使⽤场景：

设备发⽣按键事件后，向云端推送相关的 update 指令。app 收到指令后显⽰事件列表。

#### UIID1009 Zigbee 单通道插座

```json
{
  "switch": "on"
}
```

参数说明：

switch: 通道状态，String 类型。取值 on/off，表⽰通道开/关，添加完成默认 on；

使用场景：

- 设备更新自身状态；
- APP 设置设备状态

设置定时器：

```json
{
  "timers": [
    {
      //延时
      "mId": "6bdfc96c-0962-ad75-c430-15d9eb351154",
      "type": "once",
      "at": "2020-12-16T18:37:00.761Z",
      "coolkit_timer_type": "delay",
      "enabled": 1,
      "do": {
        "switch": "on"
      },
      "period": "390"
    },
    {
      //单次定时
      "mId": "c5601da9-aa5f-0946-a1fd-2a2a35daf59a",
      "type": "once",
      "at": "2020-12-16T13:11:00.974Z",
      "coolkit_timer_type": "once",
      "enabled": 1,
      "do": {
        "switch": "on"
      }
    },
    {
      //重复定时
      "mId": "870262af-4f9c-7d23-318b-f65d5a79d3eb",
      "type": "repeat",
      "at": "6 15 * * 0,1,2,3,4,5,6",
      "coolkit_timer_type": "repeat",
      "enabled": 1,
      "do": {
        "switch": "on"
      }
    },
    {
      //循环定时-重复 开始时间到了后 开启设备，然后每30分钟执行一次打开
      "mId": "fcfd83d5-4c8c-50c6-73e8-aeadeac5abdc",
      "type": "duration",
      "at": "2020-12-16T15:23:00.140Z 30",
      "coolkit_timer_type": "duration",
      "enabled": 1,
      "do": {
        "switch": "on"
      }
    },
    {
      //循环定时-交替 每60分钟一个周期，开始时间到了后 关闭设备，然后30分钟后开启设备，30分钟后关闭设备...
      "mId": "fcfd83d5-4c8c-50c6-73e8-aeadeac5abdc",
      "type": "duration",
      "at": "2020-12-16T15:23:00.140Z 60 30",
      "coolkit_timer_type": "duration",
      "enabled": 1,
      "startDo": {
        "switch": "off"
      },
      "endDo": {
        "switch": "on"
      }
    }
  ]
}
```

#### UIID1256 Zigbee 单通道开关

协议、功能和 UIID1009 基本相同。

#### UIID1257 Zigbee 单色灯

开关灯：

```json
{
  "switch": "on" // on 打开，off关闭
}
```

参数说明：

switch: 通道状态，String 类型。取值 on/off，表⽰通道开/关，添加完成默认 on

使⽤场景：

- APP 设置⼦设备通道状态
- ⼦设备本地状态发⽣变化时上报
- 设备上线时同步⼦设备通道状态⾄ APP

设置亮度：

```json
{
  "switch": "on",
  "brightness": 100 // 亮度百分比
}
```

参数说明：

- switch：通道状态，必选，String 类型，取值必须为 on;
- brightness：亮度百分⽐，必选，Number 类型，取值范围[1 - 100]；⼦设备添加完成，亮 度默认 100%

使⽤场景：

APP 设置⼦设备亮度

#### UIID1258 Zigbee 双色灯

开关灯：

```json
{
  "switch": "on" // on 打开，off关闭
}
```

参数说明：

switch: 通道状态，String 类型。取值 on/off，表⽰通道开/关，添加完成默认 on

使⽤场景：

- APP 设置⼦设备通道状态
- ⼦设备本地状态发⽣变化时上报
- 设备上线时同步⼦设备通道状态⾄ APP

设置亮度：

```json
{
  "switch": "on",
  "brightness": 100 // 亮度百分比
}
```

参数说明：

- switch：通道状态，必选，String 类型，取值必须为 on;
- brightness：亮度百分⽐，必选，Number 类型，取值范围[1 - 100]；⼦设备添加完成，亮 度默认 100%

使⽤场景：APP 设置⼦设备亮度

设置色温：

```json
{
  "switch": "on",
  "colorTemp": 100
}
```

参数说明：

- switch：通道状态，必选，String 类型，取值必须为 on
- colorTemp：⾊温，必选，Number 类型，取值范围[0 - 100]；⼦设备添加完成，⾊温默认冷⾊，默认取值值 100

使⽤场景：

APP 设置⼦设备⾊温

#### UIID1770 Zigbee 温湿度传感器

```json
{
  "temperature": "2558",
  "humidity": "5211",
  "battery": 100,
  "trigTime": "1576348190529"
}
```

参数说明：

- temperature：温度，单位摄氏度。数值=实际温度值 x100
- humidity：湿度百分比，数值=实际湿度值 x100
- battery：电池电量百分比，[0,100]
- trigTime：触发时间，最后上报状态的 13 位时间戳，精确到毫秒

使⽤场景：

设备更新自身状态

#### UIID2026 Zigbee 移动传感器

上报移动事件：

```json
{
  "motion": 1,
  "battery": 50,
  "trigTime": "1234567890123"
}
```

参数说明：

- motion：移动事件，Number 类型。取值范围[0,1]，0 ⽆⼈，1 有⼈
- battery：电池电量百分⽐，Number 类型。取值范围[0,100]
- trigTime：触发时间，String 类型。取值为：最后上报状态的 13 位时间戳，精确到毫秒

使⽤场景：

设备发⽣移动事件后，向云端推送相关的 update 指令。app 收到指令后显⽰事件列表

#### UIID2256 Zigbee 双通道开关

```json
{
  "switches": [
    { "switch": "off", "outlet": 0 },
    { "switch": "off", "outlet": 1 }
  ]
}
```

参数说明：

- switches：通道列表，当只有一个通道变化时，只会上报一个通道的值
- switch: 通道状态，String 类型。取值 on/off，表⽰通道开/关，添加完成默认 on
- outlet: 通道号，0 通道一，1 通道二

使⽤场景：

- 设备更新自身状态；
- APP 设置设备状态

设置定时器：

```json
{
  "timers": [
    {
      //延时
      "mId": "6bdfc96c-0962-ad75-c430-15d9eb351154",
      "type": "once",
      "at": "2020-12-16T18:37:00.761Z",
      "coolkit_timer_type": "delay",
      "enabled": 1,
      "do": {
        "switch": "on",
        "outlet": 0
      },
      "period": "390"
    },
    {
      //单次定时
      "mId": "c5601da9-aa5f-0946-a1fd-2a2a35daf59a",
      "type": "once",
      "at": "2020-12-16T13:11:00.974Z",
      "coolkit_timer_type": "once",
      "enabled": 1,
      "do": {
        "switch": "on",
        "outlet": 1
      }
    },
    {
      //重复定时
      "mId": "870262af-4f9c-7d23-318b-f65d5a79d3eb",
      "type": "repeat",
      "at": "6 15 * * 0,1,2,3,4,5,6",
      "coolkit_timer_type": "repeat",
      "enabled": 1,
      "do": {
        "switch": "on",
        "outlet": 1
      }
    }
  ]
}
```

#### UIID3026 Zigbee 门窗传感器

上报开关事件：

```json
{
  "battery": 50,
  "lock": 1,
  "trigTime": "1234567890123"
}
```

参数说明

- lock：表⽰⻔窗的开关状态，Number 类型。取值范围[0,1]，0 关⻔，1 开⻔
- battery：电池电量百分⽐，Number 类型。取值范围[0,100]
- trigTime：触发时间，String 类型。取值为：最后上报状态的 13 位时间戳，精确到毫秒

使⽤场景：

设备发⽣开关事件后，向云端推送相关的 update 指令。app 收到指令后显⽰事件列表

#### UIID3256 Zigbee 三通道开关

```json
{
  "switches": [
    { "switch": "off", "outlet": 0 },
    { "switch": "off", "outlet": 1 },
    { "switch": "off", "outlet": 2 }
  ]
}
```

参数说明：

- switches：通道列表，当只有一个通道变化时，只会上报一个通道的值
- switch: 通道状态，String 类型。取值 on/off，表⽰通道开/关，添加完成默认 on
- outlet: 通道号，0 通道一，1 通道二，2 通道三

使⽤场景：

- 设备更新自身状态；
- APP 设置设备状态

设置定时器：

和 UIID2256 类似，增加一路通道控制参数。

#### UIID3258 Zigbee 五色灯

开关灯：

```json
{
  "switch": "on" // on 打开，off关闭
}
```

参数说明：

switch: 通道状态，String 类型。取值 on/off，表⽰通道开/关，添加完成默认 on

使⽤场景：

- APP 设置⼦设备通道状态
- ⼦设备本地状态发⽣变化时上报
- 设备上线时同步⼦设备通道状态⾄ APP

设置亮度：

```json
{
  "switch": "on",
  "cctBrightness": 100,
  "rgbBrightness": 100
}
```

参数说明：

- switch：通道状态，必选，String 类型，取值必须为 on
- cctBrightness：白光模式下的亮度百分比；当设备在白光模式下时必选，在彩光模式下必不可选；Number 类型，取值范围[1 - 100]；子设备添加完成，默认值 100
- rgbBrightness：彩光模式下的亮度百分比；当设备在彩光模式下时必选，在白光模式下必不可选；Number 类型，取值范围[1 - 100]；子设备添加完成，默认值 100

使用场景：APP 设置子设备亮度

设置色温：

```json
{
  "switch": "on",
  "colorTemp": 100
}
```

参数说明：

- switch：通道状态，必选，String 类型，取值必须为 on
- colorTemp：色温，必选，Number 类型，取值范围[0 - 100]；子设备添加完成，色温默认冷色，默认取值 100

使用场景：白光模式下，APP 设置子设备色温

设置色相或饱和度：

```json
{
  "switch": "on",
  "hue": 0,
  "saturation": 100
}
```

参数说明：

- switch：通道状态，必选，String 类型，取值必须为 on
- hue：色相，必选，Number 类型，取值范围[0 - 359]；子设备添加完成，色相默认红色，默认值：0
- saturation：饱和度，必选，Number 类型，取值范围[0 - 100]；默认值：100

使用场景：

- 彩光模式下，APP 设置子设备色相
- 彩光模式下，APP 设置子设备饱和度

模式切换：

```json
// 切换至白光模式：

{
    "colorMode": "cct",
    "switch": "on",
    "cctBrightness": 100,
    "colorTemp": 100
}

// 切换至彩光模式：

{
    "colorMode": "rgb",
    "switch": "on",
    "rgbBrightness": 100,
    "hue": 0,
    "saturation": 100
}

```

参数说明：

- switch：通道状态，必选，String 类型，取值必须为 on
- colorMode：目标色彩模式，必选，String 类型，取值 cct/rgb，cct 白光模式，rgb 彩光模式
- hue：色相，切换至彩光模式时必选，切换至白光模式时必不可选；Number 类型，取值范围[0 - 359]；子设备添加完成，色相默认红色，默认值：0
- saturation：饱和度，切换至彩光模式时必选，切换至白光模式时必不可选，Number 类型，取值范围[0 - 100]；默认值：100；
- colorTemp：色温，切换至白光模式时必选，切换至彩光模式时必不可选；Number 类型，取值范围[0 - 100]；子设备添加完成，色温默认冷色，默认取值 100
- cctBrightness：白光模式下的亮度百分比；切换至白光模式时必选，切换至彩光模式时必不可选；Number 类型，取值范围[1 - 100]；子设备添加完成，默认值 100
- rgbBrightness：彩光模式下的亮度百分比；切换至彩光模式时必选，切换至白光模式时必不可选；Number 类型，取值范围[1 - 100]；子设备添加完成，默认值 100

使用场景：APP 切换色彩模式

说明：子设备为新添加的设备时，若需切换到目标模式，应根据目标模式默认值发送长连接指令
目标模式下已经调过光，手机 app 切换至目标模式时，应根据服务器上的最新调光记录发送长连接指令

#### UIID 4026 Zigbee 水浸传感器

上报⽔浸事件：

```json
{
  "water": 1,
  "battery": 50,
  "trigTime": "1234567890123"
}
```

参数说明：

- water：表⽰是否发⽣⽔浸事件，Number 类型。取值范围[0,1]，0 ⽆⽔，1 ⽔浸
- battery：电池电量百分⽐，Number 类型。取值范围[0,100]
- trigTime：触发时间，String 类型。取值为：最后上报状态的 13 位时间戳，精确到毫 秒

使⽤场景：设备发⽣进⽔事件后，向云端推送相关的 update 指令。APP 收到指令后显⽰事件列表

#### UIID4256 Zigbee 四通道开关

开关：

```json
{
  "switches": [
    { "switch": "on", "outlet": 0 },
    { "switch": "on", "outlet": 1 },
    { "switch": "off", "outlet": 2 },
    { "switch": "off", "outlet": 3 }
  ]
}
```

参数说明：

- switches：通道列表，当只有一个通道变化时，只会上报一个通道的值
- switch: 通道状态，String 类型。取值 on/off，表⽰通道开/关，添加完成默认 on
- outlet: 通道号，0 通道一，1 通道二，2 通道三，3 通道四

使⽤场景：

- 设备更新自身状态；
- APP 设置设备状态

设置定时器：

和 UIID2256 类似，增加两路通道控制参数。

#### UIID5026 Zigbee 烟雾传感器

上报电量信息：

```json
{
  "battery": 50
}
```

参数说明：

battery：传感器电量信息，Number 类型。取值范围[0,100]

使⽤场景：设备电量变化时上报

上报烟雾告警状态：

```json
{
  "trigTime": "1597648671620",
  "smoke": 0
}
```

参数说明：

- smoke：烟雾告警事件，必选，Number 类型。取值范围[0,1]，0 ⽆烟，1 有烟
- trigTime：触发时间，必选，String 类型。取值为：最后上报状态的 13 位时间戳，精确到毫 秒

使⽤场景：⼦设备检测到状态变化时上报

#### UIID7002 Zigbee 人体传感器\_支持 OTA

协议、功能和 UIID2026 基本相同，只是增加了支持 OTA 功能。

#### UIID7003 Zigbee 门磁\_支持 OTA

协议、功能和 UIID3026 基本相同，只是增加了支持 OTA 功能。

#### UIID7004 Zigbee 单通道开关 ­\_支持 OTA

协议、功能和 UIID1009 基本相同，只是增加了支持 OTA 功能。

### UIID77 单通道插座-多通道版

#### 参数说明

| 参数名    | 数据类型       | 取值范围 | 参数说明                                       |
| --------- | -------------- | -------- | ---------------------------------------------- |
| switches  | Array\<Object> |          | 所有通道的开关状态，单通道插座只能用通道 1     |
| pulses    | Array\<Object> |          | 所有通道的点动开关状态，单通道插座只能用通道 1 |
| configure | Array\<Object> |          | 所有通道的上电保持状态，单通道插座只能用通道 1 |
| timers    | Array\<Object> |          | 定时器对象，每种设备类型的执行动作会不同       |

switches 参数说明：

| 名称   | 类型   | 允许为空 | 说明                                     |
| :----- | :----- | :------- | :--------------------------------------- |
| switch | String | on,off   | 通道的开关，on 打开，off 关闭            |
| outlet | Number | [0,3]    | 取值范围 0-3，分别表示通道 1-4，不能重复 |

configure 参数说明：

| 名称    | 类型   | 允许为空    | 说明                                                         |
| :------ | :----- | :---------- | :----------------------------------------------------------- |
| startup | String | on,stay,off | 特定通道的上电保持状态，on 上电开，stay 上电保持，off 上电关 |
| outlet  | Number | [0,3]       | 取值范围 0-3，分别表示通道 1-4，不能重复                     |

pulses 参数说明：

| 名称       | 类型   | 允许为空                                         | 说明                                                                                                            |
| :--------- | :----- | :----------------------------------------------- | :-------------------------------------------------------------------------------------------------------------- |
| pulse      | String | on,off                                           | 点动时间开关，on 打开，off 关闭                                                                                 |
| pulseWidth | Number | [500,3600000]（单位：毫秒，支持设置 500 的整数） | 点动时间长短，取值范围 500-3600000（单位毫秒，即 0.5 秒-3600 秒），仅支持设置取值 500 毫秒（即 0.5 秒）的整数倍 |
| outlet     | Number | [0,3]                                            | 取值范围 0-3，分别表示通道 1-4，不能重复                                                                        |

#### 控制指令

1、打开插座

```json
{
  "switches": [
    {
      "switch": "on",
      "outlet": 0
    },
    {
      "switch": "off",
      "outlet": 1
    },
    {
      "switch": "off",
      "outlet": 2
    },
    {
      "switch": "off",
      "outlet": 3
    }
  ]
}
```

2、关闭插座

```json
{
  "switches": [
    {
      "switch": "off",
      "outlet": 0
    },
    {
      "switch": "off",
      "outlet": 1
    },
    {
      "switch": "off",
      "outlet": 2
    },
    {
      "switch": "off",
      "outlet": 3
    }
  ]
}
```

其他功能包括定时器和 UIID2 保持一致，需要注意本 UIID77 单通道插座只能用通道 1 的参数，其他通道设置无效。


### UIID78 单通道开关-多通道版

与 UIID4 保持一致，控制开关的参数在通道 0 上。

### UIID82 GSM/4G 双通道插座-无流量版本

与 UIID2 保持一致。

### UIID83 GSM/4G 三通道插座-无流量版本

与 UIID3 保持一致。

### UIID84 GSM/4G 四通道插座-无流量版本

与 UIID4 保持一致。

### UIID102 WiFi 门磁

本设备不支持定时器。

功能描述：

| 序号 | 功能     | 功能说明                           | APP 支持 | 小程序支持 |
| ---- | -------- | ---------------------------------- | -------- | ---------- |
| 1    | 电量显示 | 显示门磁电量状态，电量充足或电量低 | √        | √          |
| 2    | 门磁状态 | 显示门磁状态，分开或闭合           | √        | √          |
| 3    | OTA 升级 | 设备端有新固件时，可升级           | √        | √          |

#### 参数说明

| 名称           | 类型   | 允许为空 | 说明                                                                                                                                                                                               |
| -------------- | ------ | -------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| switch         | String | N        | 开关状态，"on" 代表打开，"off" 代表关闭                                                                                                                                                            |
| battery        | String | N        | 当前电压值，取值范围 0-3V，配合 lowVolAlarm 来判断设备是否处于低电量模式。注意：lowVolAlarm 为 devConfig 对象中的参数，当 battery<lowVolAlarm 时显示低电量，当 battery>=lowVolAlarm 时显示电量充足 |
| type           | Number | N        | 上报类型，server 端根据这个类型判断是否向 App push 通知，1: 短按触发，退出休眠状态后上报；2: 开门后上报；3: 关门后上报；4: 定时上报，比如每间隔一小时上报；5: 短按两次（双击）闭                   |
| lastUpdateTime | String | Y        | 设备最后一次上报的时间，App 端根据此字段记录的时间与当前时间的差值来判断设备是否离线，该字段不是设备上报，由服务端补充。                                                                           |
| actionTime     | String | Y        | 设备最后一次开关门的时间，该字段不是设备上报，由服务端补充。                                                                                                                                       |

上线逻辑：

注意：APP 检查设备上下线状态（当前时间距离上次上报数据（lastUpdateTime）或者操作时间（actionTime） 大于等于 2 小时 5 分钟表示离线，否则表示在线）

设备通过 HTTP 接口向服务端发送请求后，服务端会在设备的 params 字段中添加 lastUpdateTime 和 actionTime 两个参数。

### UIID103 双色冷暖灯\_支持随调及场景

#### 参数说明

| 参数名     | 数据类型       | 取值范围                              | 参数说明                                                                                             |
| ---------- | -------------- | ------------------------------------- | ---------------------------------------------------------------------------------------------------- |
| pVer       | String         |                                       | 当前协议版本号，能力协商。和当前协议最后一个版本一致，例如：{"pVer":"2.0"}。设备上线以后，需要上传。 |
| white      | WhiteObject    |                                       | 白光模式下的取值                                                                                     |
| bright     | WhiteObject    |                                       |                                                                                                      |
| read       | WhiteObject    |                                       |                                                                                                      |
| computer   | WhiteObject    |                                       |                                                                                                      |
| nightLight | WhiteObject    |                                       |                                                                                                      |
| timers     | Array\<Object> |                                       | 定时器，当前双色冷暖灯的定时、延时动作只支持开关                                                     |
| ops_mode   | String         | diy,ewelink                           | 该字段在长连接和 DIY 模式下公用，diy 进入 DIY 模式；ewelink 回到 eWeLink 模式                        |
| switch     | String         | on,off                                | 灯的开关，on 打开，off 关闭                                                                          |
| ltype      | Int            | white,bright,read,computer,nightLight | 灯的模式                                                                                             |

WhiteObject 参数说明：

| 参数名 | 数据类型 | 取值范围 | 说明                    |
| ------ | -------- | -------- | ----------------------- |
| br     | Number   | [1,100]  | 亮度(brighteness)       |
| ct     | Number   | [0,255]  | 色温(color temperature) |

#### 控制指令

1、开关灯

示例：APP 发送打开灯，on 开，off 关

```json
{
  "switch": "on"
}
```

2、白光模式

切换到白光模式或其他模式一定要同时发送一个 {"switch":"on"}

示例：白光模式下，亮度值调整到 50

注意：在调整亮度或者色温的时候，要把两个值一起发送。

```json
{
  "ltype": "white",
  "white": {
    "br": 50,
    "ct": 125
  }
}
```

3、情景模式设置

固定的四种情景模式：app 端会固定显示四种模式给用户选择，当用户点击某一种模式后，按照固定的亮度值和色温值发送给设备。

- bright：明亮模式，亮度值 100，色温值 255；
- read：阅读模式，亮度值 50，色温值 0；
- computer：工作模式，亮度值 20，色温值 255；
- nightLight：夜灯模式，亮度值 5，色温值 0。

例如，当用户选择 "阅读模式"

```json
{
  "ltype": "read",
  "read": {
    "br": 50,
    "ct": 0
  }
}
```

4、单次定时

设置灯在 2020 年 5 月 29 日 17 点 08 分定时打开，单次执行不重复

```json
{
  "timers": [
    {
      "enabled": 1,
      "coolkit_timer_type": "once",
      "at": "2020-05-29T09:08:00.315Z",
      "type": "once",
      "do": {
        "switch": "on"
      },
      "mId": "91959d3b-5885-718d-13c5-e69cd48de862"
    }
  ]
}
```

5、单次延时

设置灯在 2020 年 5 月 29 日 17 点 10 分延时 6 分钟即 17 点 16 分时关闭，单次执行不重复

```json
{
  "timers": [
    {
      "enabled": 1,
      "coolkit_timer_type": "delay",
      "at": "2020-05-29T09:16:00.101Z",
      "period": "6",
      "type": "once",
      "do": {
        "switch": "off"
      },
      "mId": "e4777ab0-a74e-ed60-aeac-1ea23b112069"
    }
  ]
}
```

### UIID104 RGB 五色灯\_支持随调及场景

#### 参数说明

| 参数名     | 数据类型       | 取值范围                                                                 | 参数说明                                                                                             |
| ---------- | -------------- | ------------------------------------------------------------------------ | ---------------------------------------------------------------------------------------------------- |
| switch     | String         | on,off                                                                   | 灯的开关，on 打开，off 关闭                                                                          |
| pVer       | String         |                                                                          | 当前协议版本号，能力协商。和当前协议最后一个版本一致，例如：{"pVer":"2.0"}。设备上线以后，需要上传。 |
| ltype      | String         | white,color,bright,goodNight,read,nightLight,party,leisure,soft,colorful | 灯的模式                                                                                             |
| white      | WhiteObject    |                                                                          | 白光模式下的取值                                                                                     |
| color      | ColorObject    |                                                                          | 彩光模式下的取值                                                                                     |
| bright     | ModeObject     |                                                                          | 情景不可编辑                                                                                         |
| goodNight  | ModeObject     |                                                                          | 情景不可编辑                                                                                         |
| read       | ModeObject     |                                                                          | 情景不可编辑                                                                                         |
| nightLight | ModeObject     |                                                                          | 情景不可编辑                                                                                         |
| party      | ModeObject     |                                                                          | 情景可编辑                                                                                           |
| leisure    | ModeObject     |                                                                          | 情景可编辑                                                                                           |
| soft       | ModeObject     |                                                                          | 情景可编辑                                                                                           |
| colorful   | ModeObject     |                                                                          | 情景可编辑                                                                                           |
| ops_mode   | String         | diy,ewelink                                                              | 该字段在长连接和 DIY 模式下公用，diy 进入 DIY 模式；ewelink 回到 eWeLink 模式                        |
| timers     | Array\<Object> |                                                                          | 定时器，当前 RGB 五色灯的定时、延时动作只支持开关。                                                  |

WhiteObject 参数说明：

| 参数名 | 数据类型 | 取值范围 | 说明 |
| ------ | -------- | -------- | ---- |
| br     | Number   | [1,100]  | 亮度 |
| ct     | Number   | [0,255]  | 色温 |

ColorObject 参数说明：

| 参数名 | 数据类型 | 取值范围 | 说明   |
| ------ | -------- | -------- | ------ |
| br     | Number   | [1,100]  | 亮度   |
| r      | Number   | [0,255]  | 红色值 |
| g      | Number   | [0,255]  | 绿色值 |
| b      | Number   | [0,255]  | 蓝色值 |

ModeObject 说明（注意，不是每种模式都有这些字段）：

| 参数名 | 数据类型 | 取值范围 | 说明                                     |
| ------ | -------- | -------- | ---------------------------------------- |
| br     | Number   | [1,100]  | 亮度                                     |
| ct     | Number   | [0,255]  | 色温                                     |
| r      | Number   | [0,255]  | 红色值                                   |
| g      | Number   | [0,255]  | 绿色值                                   |
| b      | Number   | [0,255]  | 蓝色值                                   |
| name   | String   |          | 自定义情景名称                           |
| tf     | Number   | [1,4]    | 颜色模式，1 静态；2 渐变；3 跳变；4 呼吸 |
| sp     | Number   | [1,100]  | 颜色变化速度                             |

#### 控制指令

1、开关灯

示例：APP 发送打开灯，on 开，off 关

```json
{
  "switch": "on"
}
```

2、白光模式

切换到白光模式或彩光模式一定要同时发送一个 {"switch":"on"}

示例：白光模式下，亮度值调整到 50

注意：在调整亮度或者色温的时候，要把两个值一起发送。

```json
{
  "ltype": "white",
  "white": {
    "br": 50,
    "ct": 128
  }
}
```

3、彩光模式

示例：调整颜色为红色，亮度 50%

```json
{
  "ltype": "color",
  "color": {
    "r": 255,
    "g": 0,
    "b": 0,
    "br": 1
  }
}
```

4、情景模式

固定的 8 种情景模式：app 端会固定显示 8 种模式给用户选择，当用户点击某一种模式后后，按照固定的亮度值和色温值发送给设备。

```json
//明亮
{
    "ltype":"bright",
    "bright":{
        "r":255,
        "g:":255,
        "b":255,
        "br":100
    }
}
//晚安
{
    "ltype": "goodNight",
    "goodNight": {
        "r": 255,
        "g:": 254,
        "b": 127,
        "br": 25
    }
}
//阅读
{
    "ltype":"read",
    "read":{
        "r":255,
        "g:":255,
        "b":255,
        "br":60
    }
}
//夜灯
{
    "ltype":"nightLight",
    "nightLight":{
        "r":255,
        "g:":242,
        "b":226,
        "br":5
    }
}
//聚会
{
    "ltype":"party",
    "party":{
        "r":254,
        "g:":132,
        "b":0,
        "br":45,
        "tf":1,
        "sp":1
    }
}
//休闲
{
    "ltype":"leisure",
    "leisure":{
        "r":0,
        "g:":40,
        "b":254,
        "br":55,
        "tf":1,
        "sp":1
    }
}
//柔光
{
    "ltype":"soft",
    "soft":{
        "r":38,
        "g:":254,
        "b":0,
        "br":20,
        "tf":1,
        "sp":1
    }
}
//缤纷
{
    "ltype":"colorful",
    "colorful":{
        "r":255,
        "g:":0,
        "b":0,
        "br":100,
        "tf":1,
        "sp":1
    }
}
```

5、单次定时

示例：设置灯在 2020 年 5 月 29 日 17 点 08 分定时打开，单次执行不重复

```json
{
  "timers": [
    {
      "enabled": 1,
      "coolkit_timer_type": "once",
      "at": "2020-05-29T09:08:00.315Z",
      "type": "once",
      "do": {
        "switch": "on"
      },
      "mId": "91959d3b-5885-718d-13c5-e69cd48de862"
    }
  ]
}
```

6、单次延时

示例：设置灯在 2020 年 5 月 29 日 17 点 10 分延时 6 分钟即 17 点 16 分时关闭，单次执行不重复

```json
{
  "timers": [
    {
      "enabled": 1,
      "coolkit_timer_type": "delay",
      "at": "2020-05-29T09:16:00.101Z",
      "period": "6",
      "type": "once",
      "do": {
        "switch": "off"
      },
      "mId": "e4777ab0-a74e-ed60-aeac-1ea23b112069"
    }
  ]
}
```

### UIID107 GSM 单通道插座 - 多通道协议

和 UIID77 保持一致。

### UIID226 断路器

#### 通用参数

| 参数名 | 数据类型 |  可/ 必选  | 取值范围 | 说明 |
| ------ | -------- | -------|-------- | ------ |
| switch | Boolean |  必选  | true, false | 表示设备的开关状态|
| uiActive | Number | 必选 | 取值范围为 [0, 180]，单位为秒。| uiActive 	表示 UI 激活时间。<br>在UI激活时间大于 0 时，设备会向长连接服务器上报当前电流电压功率；而UI激活时间不大于0时，除非特殊说明，否则不向长连接服务器上报当前电流电压功率。|
| totalPower | Number | 必选 |   |  |
| phase_x_p | Number | 必选 |    |  |
| phase_x_v | Number | 必选 |    |  |
| phase_x_c | Number | 必选 |    |  |
| availablePower | Number | 必选 |   |  |
| batteryRecharge | Number | 必选 | [1,60000] | 电量充值|
| ASYNC | Number | 必选 | 102 | 表明需要服务器异步处理业务|
| zeroPower | Boolean | 必选 | true, false | 剩余可用电量清零|
| resetPower | Boolean | - | true, false | 总用电量清零|
| startTime | String | 可选 | 取值固定为最近一次下发的开始统计单次用电量命令的时间，<br>格式如示例 "2020-12-16T03:36:16.503Z"。 | 单次统计用电量的开始时间.<br>开始统计单次用电量、结束统计单次用电量命令中必选，刷新用电量命令中不选。|
| endTime | String | 可选 | 当服务器下发的是开始统计单次用电量命令时，此字段取值固定为空串即 "" ；<br>当服务器下发的是结束统计单次用电量命令时，此字段取值固定为最近一次下发的结束统计单次用电量命令的时间，<br>格式如示例 "2020-12-16T03:36:21.395Z"。503Z"。 | 	单次统计用电量的结束时间.<br>开始统计单次用电量、结束统计单次用电量命令中必选，刷新用电量命令中不选。|
| oneKwh | Enum<String> | 必选 | 	"start"、"stop"、"get" | 单次用电量执行动作.  "start"开始统计单次用电量  "stop"结束统计单次用电量  -"get"查询单次用电量 |
| hundredDaysKwh | String | 可选 | 取值固定为 "get"。 | 表示查看历史100天的用电量。|
| hundredDaysKwhData | String | 必选 | 数据格式为：每一天的电量数据占6个字节,均为十六进制形式，<br>其中整数部分占4个字节（最大65535），<br>而小数部分占2个字节（最大255），<br>100天的历史用电量数据总共占600个字节。<br>示例： "19010119030100000000000000000<br>000000000000000000000000000000000000000<br>000000000000000000000000000000000000000<br>00000000000000000000000......" ，<br>代表最近100天的历史用电量为 {6401.01(190101), 6403.01(190301), 0.00, 0.00, .................. }，<br>规则是当日用电量在最前面，即{今天用电量，昨天用电量，前天用电量，大前天用电量，.......}。<br>计算过程：190101 表示两部分1901,01 1901(16) -> 6401（10）<br> 01（16） -> (0*16的一次方+1*16的零次方)/100 = 0.01 （10） <br>所以：6401+0.01 = 6401.01 | 表示最近100天的历史用电量，单位位 KWH。|
| max_X_upper | Number | - | 功率:[0.1,40000000]<br>电压:[0.1,6000]<br>电流:[0.1,100000] | 功率,电压,电流阈值上限|
| max_X_lower | Number | - | 功率:[0.1,40000000]<br>电压:[0.1,6000]电流:[0.1,100000]| 功率,电压,电流 阈值上限|
| alarmReport | Number | - | 	[1,12] | 告警类型 <br>1.功率过低 2.功率过高3.欠压告警4.过压告警 5.过流告警 6.漏电告警7.高温告警 8.余额不足 9.欠费告警 10.漏电自检异常 11.三相不平衡 12.缺相告警 |
| alarmList | Array<Number> | - | 	[1,12] | 告警类型数组 <br>1.功率过低 2.功率过高3.欠压告警4.过压告警 5.过流告警 6.漏电告警7.高温告警 8.余额不足 9.欠费告警 10.漏电自检异常 11.三相不平衡 12.缺相告警 |
| temperature | Number| 可选 | 	[0,600] | 当前温度 |
| tempateUnit | enum<string>| 可选 | 	celsius,
fahrenheit| 温度单位，celsius 摄氏度；fahrenheit 华氏度 |
| childLock | Boolean| 可选 | true, false | 童锁状态 |
| prepaidEnale | Boolean| 可选 | true, false | 预付费开关 |
| prepaidLowBalanceAlert | Boolean| 可选 | true, false | 余额不足告警 |
| prepaidLowest | Number| 可选 | 	[1,40000000]| 余额低于该值触发告警 |
| lcpManual | Boolean| 可选 | true | 漏电保护自检 |
| lcpAutoEnable | Boolean| 可选 | - | 是否启动，默认false |
| lcpAutoExecutionTime | String| 可选 | - | 执行时间，默认01 12（DD HH）   |
| lcpAutoDelayTime | Number| 可选 | [0,60] | 延时时间，默认10，单位秒 |
| autoOpensAfterLcp | Boolean| 可选 | - | 自检后自动打开，默认false |


#### 控制指令

1、设备开关
示例：打开设备

```json
{
  "switch": true
}
```
2、激活设备上报
使用场景： App下发
当App进入到设备详情或其他需要的时机，App下发该指令，设备开始上报电流电压功率等值

```json
{
  "uiActive": 60
}
```

3、设备上报数据（详情数据）

```json
// 单相
{
  "totalPower":123456,
  "phase_0_p":300,
	"phase_0_v":110,
  "phase_0_c":5
}
// 三相
{
  "totalPower":123456,
  "phase_0_p":300,
	"phase_0_v":110,
  "phase_0_c":5,
  "phase_1_p":300,
	"phase_1_v":110,
  "phase_1_c":5,
  "phase_2_p":300,
	"phase_2_v":110,
  "phase_2_c":5
}
```

4、可用电量
使用场景： 设备上报
注意：
● 当可用电量为0时，设备应关闭

```json
// 设备上报可用电量
{
  "availablePower": 100
}

// 当可用电量为0是，应关闭设备
{
  "availablePower": 0,
  "switch":false
}
```
5、电量充值
使用场景： App下发

```json
{
  "batteryRecharge": 100,
  "ASYNC":102,
}
```
6、电量清零
使用场景： App下发

```json
{
  "zeroPower":true,
  "ASYNC":102,
}
```
7、总用电量清零
使用场景： App下发

```json
{
  "resetPower":true,
  "ASYNC":102,
}
```
8、统计单次用电量
8.1 开始/结束统计
使用场景： App下发

```json
// 示例：开始统计
{
    "oneKwh": "start",
    "endTime": "",
    "startTime": "2020-12-16T03:36:16.503Z"
}

// 示例：结束统计
{
    "oneKwh": "stop",
    "endTime": "2020-12-16T03:36:21.395Z",
    "startTime": "2020-12-16T03:36:16.503Z"
}
```

8.2 获取单次用电量
使用场景： App下发

```json

{
 "oneKwh":"get"
}

```

设备端回复：

```json
{
	"error":0,
	"config":
  {
			"oneKwhData": 110.32
	}
}
```
9、历史用电量
使用场景： App下发

```json
{
  "hundredDaysKwh":"get"
}
```
设备回复：
```json
{
  "error":0,
  "config":
  {
   	"hundredDaysKwhData":"190101190301000000000000....."
	}
}
```

10、设备上报阈值范围
使用场景： 设备上报

```json
{
	"min_p_upper":40000000, //最小功率 上限
  "min_p_lower":0.1, //最小功率 下限
  
  "max_p_upper":40000000, //最大功率 上限
  "max_p_lower":0.1, //最大功率 下限

  
  "min_v_upper":6000, // 最小电压 上限
  "min_v_lower":0.1, // 最小电压 下限

  "max_v_upper":6000, // 最大电压 上限
  "max_v_lower":0.1 , // 最大电压 下限

  "max_c_upper": 100000 , //最大电流上限
  "max_c_lower": 0.1 // 最大电流 下限
  
}
```
11、过载保护
使用场景：App下发

```json
{
  "overloadProtect":true
}
```
12、告警上报
使用场景：设备上报

```json
{
  "alarmReport": 1
}
```

字段说明：
1. alarmType ： String 类型，过载保护设置的类型，必选，取值范围为 "p" 即功率保护、 "v" 即电压保护 、 "c" 即电流保护三者的任意组合，"t" 即最大温度 （如果支持）,"l" 为漏电电流（如果支持） 可包含其中一种、其中两种、其中三种，具体取值取决于其他三个字段的设置。
例如：
若用户只设置了电流过载保护，而电压和功率无设置（即为默认值），则 alarmType 的取值为 "c" ；
若用户设置了功率过载保护和电压过载保护，而电流过载保护无设置（即为默认值），则  alarmType 的取值为 "pv" ；
若用户设置了功率过载保护、电流过载保护以及电压过载保护，则  alarmType 的取值为 "pcv" 。

2. alarm_x_min,  Number ， x为功率，电流，电压的过载保护最小值
3. alarm_x_max,  Number ， x为功率，电流，电压的过载保护最大值
4. alarm_t_value, Number ，温度过载值
5. alarm_l_value, Number ，漏电过载值

注意事项：
1. 除了阈值上下限都未设置的情况，电压保护、电流保护、功率保护的阈值上限必须大于阈值下限。
2. 默认情况下，电流保护、电压保护、功率保护均未设置，其默认阈值下限、阈值上限都为 -1 。
3. 可以只设置阈值上限或阈值下限，而未设置的值为 -1 ,即复选框不勾选。
4. 电流电压功率的阈值上下限取值范围如下：
  a. 电流：阈值上限取值范围为 [0.10, 15.00] ，无阈值下限。
  b. 电压：阈值上限取值范围为 [0.10, 120.00] ，无阈值下限。
  c. 功率：阈值上限取值范围为 [10.00, 1800.00] ，阈值下限取值范围为 [0.10, 1800.00]。
5. 对于上述所有阈值保护的设置值，设备端均支持至多2位小数。

13、历史告警上报
使用场景：设备上报

```json
{
  "alarmList": [1,2,3,4,5,6]
}
```

14、温度上报（可选）
使用场景：设备上报

```json
{
  "temperature": 40.0
}
```

15、温度单位切换 (可选)
使用场景：App下发

```json
{
  "tempateUnit": "celsius"
}
```
16、童锁设置（可选）
```json
// 开启 童锁
{
  "childLock": true
}
// 关闭 童锁
{
  "childLock": false
}
```

17、维修锁定（可选）
```json
// 开启 维修锁定
{
  "maintenanceLock": true
}
// 关闭 维修锁定
{
  "maintenanceLock": false
}
```

18、预付费功能设置（可选）
```json
// 开启 预付费,开启余额不足告警
{
  "prepaidEnale":true,
  "prepaidLowBalanceAlert":true,
  "prepaidLowest":10,
}
```
注意：
开启预付费功能时，余额不足告警可独立设置开启或关闭
关闭预付费功能是，余额不足告警需要一并关闭

19、漏电保护测试（可选）
19.1 漏电保护功能自检

```json
{
  "lcpManual": true
}
```
19.2 定期自检

使用场景： App下发

```json
//修改，开启时 必须全部下发
// 在每个月的1号，10时，延迟0秒自检 
{
  "lcpAutoEnable":true,
  "lcpAutoExecutionTime":"01 10",
  "lcpAutoDelayTime":0,
  "autoOpensAfterLcp":false
}

// 关闭
{
  "lcpAutoEnable":false,
}
```

